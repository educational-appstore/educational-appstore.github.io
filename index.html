<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Sawfish App Store</title>
    <meta name="description" content="A fast, school-safe way to access games and student tools. Install as a PWA for the full experience.">
    <meta name="theme-color" content="#0b0d10">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Sawfish Store">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192.png">
    <link rel="version" href="version.json">
</head>
<body>

<!-- ==========================================================
     INSTALLATION SCREEN (Shown ONLY when NOT installed as PWA)
=========================================================== -->
<section data-screen="install" class="hidden">
    <header class="install-header">
        <div class="install-logo">
            <svg viewBox="0 0 100 100" class="sawfish-logo">
                <circle cx="50" cy="50" r="45" fill="#4da3ff" opacity="0.1"/>
                <path d="M30 65 Q50 20 70 65 Q50 75 30 65" fill="none" stroke="#4da3ff" stroke-width="3"/>
                <circle cx="35" cy="55" r="4" fill="#4da3ff"/>
                <circle cx="65" cy="55" r="4" fill="#4da3ff"/>
            </svg>
        </div>
        <h1>Sawfish App Store</h1>
        <p class="subtitle">A fast, school-safe way to access games and student tools.</p>
    </header>

    <main class="install-content">
        <section class="intro-block">
            <h2>Why This Exists</h2>
            <p>
                Many schools rely on managed app tools that can feel slow, limited,
                or missing the apps students actually use. The Sawfish App Store
                provides a clean, modern alternative that feels like a native app store
                while remaining accessible through any modern web browser without
                requiring special permissions or software installation beyond the
                standard PWA installation process.
            </p>
            <p>
                The <strong>Sawfish App Store</strong> is a progressive web application
                designed specifically for school environments. It has been carefully
                curated to include only school-appropriate content while still providing
                engaging entertainment and useful productivity tools. All apps in the
                store have been reviewed to ensure they meet school safety standards
                and do not contain inappropriate content, excessive advertising, or
                data collection practices that would raise privacy concerns.
            </p>
        </section>

        <section class="how-it-works">
            <h2>How to Install</h2>
            <p>This works best when added to your device's Home Screen for a full app experience:</p>
            
            <div class="install-instructions">
                <div class="instruction-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>Tap the Share Button</strong>
                        <p>In Safari or your browser, look for the share icon typically located in the toolbar. This button usually looks like a square with an arrow pointing upward on iOS devices or three dots connected by lines on Android devices.</p>
                    </div>
                </div>
                
                <div class="instruction-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>Select "Add to Home Screen"</strong>
                        <p>Scroll down through the share sheet options until you find "Add to Home Screen" or "Install App". Tap this option to proceed with the installation process.</p>
                    </div>
                </div>
                
                <div class="instruction-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <strong>Confirm the Installation</strong>
                        <p>Review the app name and icon that will appear on your home screen. You can customize these if desired, then tap "Add" or "Install" to confirm and begin the installation process.</p>
                    </div>
                </div>
                
                <div class="instruction-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <strong>Open from Home Screen</strong>
                        <p>Once installed, tap the Sawfish App Store icon from your device's home screen to open the app. The installation screen will disappear and the full application will be available.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="benefits">
            <h2>What Installation Unlocks</h2>
            <p>When installed as a Progressive Web App, you get access to the complete feature set:</p>
            
            <div class="benefit-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12 2 2 7 12 12 22 7 12 2"/>
                            <polyline points="2 17 12 22 22 17"/>
                            <polyline points="2 12 12 17 22 12"/>
                        </svg>
                    </div>
                    <h3>Game Hub</h3>
                    <p>Access a curated collection of school-friendly games including puzzles, platformers, simulations, and creative building experiences.</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                        </svg>
                    </div>
                    <h3>Social Tools</h3>
                    <p>Chat and call your classmates through integrated communication tools designed for quick and easy collaboration.</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                            <line x1="8" y1="21" x2="16" y2="21"/>
                            <line x1="12" y1="17" x2="12" y2="21"/>
                        </svg>
                    </div>
                    <h3>OS Simulations</h3>
                    <p>Explore browser-based operating system environments including NovaOS, WinRipen, PlutoOS, and Ripenos for educational purposes.</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                    </div>
                    <h3>Full-Screen App Feel</h3>
                    <p>Enjoy a faster, more responsive experience with native-like performance, smoother navigation, and distraction-free interface.</p>
                </div>
            </div>
        </section>

        <section class="final-note">
            <div class="note-card">
                <h3>Important Notes</h3>
                <ul>
                    <li>After installation, this setup screen disappears and the full app becomes available</li>
                    <li>Some features require an active internet connection to function properly</li>
                    <li>The app works offline for most content once the service worker is installed</li>
                    <li>Your ratings and reviews are stored securely in the cloud and sync across devices</li>
                </ul>
            </div>
        </section>
    </main>

    <footer class="install-footer">
        <p>Built by the Sawfish Developer Group</p>
        <p class="version-info">Version 2.0.0 · <span id="install-date"></span></p>
    </footer>
</section>

<!-- ==========================================================
     FULL APP SCREEN (Shown ONLY after PWA installation)
=========================================================== -->
<section data-screen="app" class="visible">

    <!-- ================= HEADER ================= -->
    <header class="app-header">
        <div class="header-content">
            <div class="header-left">
                <h1 class="app-title">Sawfish App Store</h1>
            </div>
            <div class="header-right">
                <!-- PWA-ONLY BANNER -->
                <div id="pwa-banner" class="pwa-banner" aria-hidden="true">
                    <div class="pwa-banner-left">
                        <div class="pwa-badge">PWA</div>
                        <div class="pwa-banner-text">
                            <div class="pwa-banner-title">App Status</div>
                            <div class="pwa-banner-sub" id="update-status">Checking for updates…</div>
                        </div>
                    </div>
                    <button id="update-action" class="pwa-banner-btn" type="button">
                        <span class="btn-text">Up to date</span>
                        <span class="btn-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- ================= SIDEBAR NAVIGATION ================= -->
    <aside class="sidebar-nav" id="sidebar-nav">
        <nav class="sidebar-content">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <svg viewBox="0 0 100 100" class="sawfish-icon">
                        <circle cx="50" cy="50" r="45" fill="#4da3ff" opacity="0.15"/>
                        <path d="M30 65 Q50 20 70 65 Q50 75 30 65" fill="none" stroke="#4da3ff" stroke-width="3"/>
                        <circle cx="35" cy="55" r="4" fill="#4da3ff"/>
                        <circle cx="65" cy="55" r="4" fill="#4da3ff"/>
                    </svg>
                </div>
                <h2>Sawfish Store</h2>
            </div>
            
            <ul class="nav-list">
                <li>
                    <button data-tab="home" class="nav-item active">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9 22 9 12 15 12 15 22"/>
                        </svg>
                        <span>Home</span>
                    </button>
                </li>
                <li>
                    <button data-tab="search" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                        </svg>
                        <span>Search</span>
                    </button>
                </li>
                <li>
                    <button data-tab="featured" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                        </svg>
                        <span>Featured</span>
                    </button>
                </li>
                <li>
                    <button data-tab="games" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="6" width="20" height="12" rx="2"/>
                            <path d="M6 12h4"/>
                            <path d="M8 10v4"/>
                            <circle cx="17" cy="10" r="1" fill="currentColor"/>
                            <circle cx="15" cy="14" r="1" fill="currentColor"/>
                        </svg>
                        <span>Games</span>
                    </button>
                </li>
                <li>
                    <button data-tab="social" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        <span>Social</span>
                    </button>
                </li>
                <li>
                    <button data-tab="os" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                            <line x1="8" y1="21" x2="16" y2="21"/>
                            <line x1="12" y1="17" x2="12" y2="21"/>
                        </svg>
                        <span>OS</span>
                    </button>
                </li>
                <li>
                    <button data-tab="miscellaneous" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/>
                            <rect x="14" y="3" width="7" height="7"/>
                            <rect x="14" y="14" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/>
                        </svg>
                        <span>Miscellaneous</span>
                    </button>
                </li>
                <li>
                    <button data-tab="community" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                        </svg>
                        <span>Community</span>
                    </button>
                </li>
                <li>
                    <button data-tab="changelog" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10 9 9 9 8 9"/>
                        </svg>
                        <span>Changelog</span>
                    </button>
                </li>
                <li class="developer-nav-item" style="display: none;">
                    <button data-tab="developer" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="16 18 22 12 16 6"/>
                            <polyline points="8 6 2 12 8 18"/>
                        </svg>
                        <span>Developer</span>
                    </button>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <!-- User Profile Button -->
                <button id="user-profile-button" class="user-profile-btn" title="User Profile">
                    <div class="user-avatar-small" id="sidebar-avatar">?</div>
                    <span class="profile-status-text" id="profile-status-text">Sign In</span>
                </button>
                
                <!-- Developer Login Button -->
                <button id="developer-login-button" class="developer-login-btn" title="Developer Login">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    <span class="developer-status-text">Developer</span>
                </button>
            </div>
        </nav>
    </aside>

    <!-- ================= MAIN CONTENT AREA ================= -->
    <main class="main-content">
        
        <!-- ================= HOME PAGE ================= -->
        <main data-page="home" class="page visible">
            <section class="home-hero">
                <div class="hero-content">
                    <h2>Welcome to Sawfish App Store</h2>
                    <p>Your curated collection of school-safe games, social tools, and operating system simulations. Install to Home Screen for the best experience.</p>
                    <div class="hero-actions">
                        <button class="hero-btn primary" onclick="scrollToSection('games')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5 3 19 12 5 21 5 3"/>
                            </svg>
                            Explore Games
                        </button>
                        <button class="hero-btn secondary" onclick="scrollToSection('social')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                            </svg>
                            Social Tools
                        </button>
                    </div>
                </div>
            </section>

            <section class="quick-access">
                <h3>Quick Access</h3>
                <div class="card-grid">
                    <article class="app-card" data-app="portal">
                        <div class="card-icon">
                            <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=P" alt="Game Portal Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Sawfish Game Portal</h4>
                            <p class="card-desc">Central launcher for all approved Sawfish games in one place.</p>
                        </div>
                    </article>

                    <article class="app-card" data-app="chat">
                        <div class="card-icon">
                            <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=C" alt="Chat App Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Chat App</h4>
                            <p class="card-desc">Real-time messaging for students with rooms and channels.</p>
                        </div>
                    </article>

                    <article class="app-card" data-app="call">
                        <div class="card-icon">
                            <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=Ca" alt="Call App Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Call App</h4>
                            <p class="card-desc">Fast, simple browser-based voice calling interface.</p>
                        </div>
                    </article>
                </div>
            </section>
        </main>

        <!-- ================= SEARCH PAGE ================= -->
        <main data-page="search" class="page">
            <section class="page-header">
                <h2>Search Apps</h2>
                <p>Find apps, games, and tools quickly. Search by name, category, or description to discover new content.</p>
            </section>

            <section class="search-container">
                <div class="search-input-wrapper">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                    </svg>
                    <input type="text" id="search-input" class="search-input" placeholder="Search for apps, games, or tools..." autocomplete="off">
                </div>
                
                <div class="search-categories">
                    <button class="search-category-btn active" data-search-category="all">All</button>
                    <button class="search-category-btn" data-search-category="Games">Games</button>
                    <button class="search-category-btn" data-search-category="Social">Social</button>
                    <button class="search-category-btn" data-search-category="Operating System">OS</button>
                    <button class="search-category-btn" data-search-category="Educational">Educational</button>
                    <button class="search-category-btn" data-search-category="Utilities">Utilities</button>
                </div>
                
                <p class="search-results-count">Showing <span id="search-count">0</span> results</p>
            </section>

            <div class="card-grid" id="search-results">
                <!-- Search results will be populated here -->
            </div>

            <div class="search-no-results hidden" id="search-no-results">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                    <line x1="8" y1="11" x2="14" y2="11"/>
                </svg>
                <h3>No results found</h3>
                <p>Try adjusting your search terms or browse by category</p>
            </div>
        </main>

        <!-- ================= FEATURED PAGE ================= -->
        <main data-page="featured" class="page">
            <section class="page-header">
                <h2>Featured Apps</h2>
                <p>Hand-picked apps and games that our community loves the most. These selections represent the best of what the Sawfish App Store has to offer, chosen for their quality, reliability, and educational value.</p>
            </section>

            <section class="featured-hero">
                <div class="featured-card highlight">
                    <div class="featured-reguest-banner">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                        </svg>
                        <span>Re-Guest Required</span>
                    </div>
                    <div class="featured-badge">Editor's Choice</div>
                    <div class="featured-icon">
                        <img src="https://via.placeholder.com/100x100/5c8a3d/ffffff?text=MC" alt="Minecraft Web" loading="lazy">
                    </div>
                    <div class="featured-info">
                        <h3>Minecraft Web (Beta)</h3>
                        <p>The iconic sandbox building game, now in your browser. Build, explore, and create without downloads.</p>
                        <a href="https://zardoy.github.io/minecraft-web-client/" target="_blank" rel="noopener noreferrer" class="featured-btn">
                            Play Now
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="5" y1="12" x2="19" y2="12"/>
                                <polyline points="12 5 19 12 12 19"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </section>

            <section class="card-section">
                <h3>Top Rated Games</h3>
                <div class="card-grid">
                    <article class="app-card" data-app="minecraft" data-reguest="true">
                        <div class="card-icon">
                            <img src="https://via.placeholder.com/100x100/5c8a3d/ffffff?text=MC" alt="Minecraft Web Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Minecraft Web (Beta)</h4>
                            <p class="card-desc">The iconic sandbox building game, now in your browser.</p>
                        </div>
                    </article>

                    <article class="app-card" data-app="sandboxels">
                        <div class="card-icon">
                            <img src="icons/sandboxels.png" alt="Sandboxels Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Sandboxels</h4>
                            <p class="card-desc">Falling sand physics simulator with over 500 elements.</p>
                        </div>
                    </article>

                    <article class="app-card" data-app="2048">
                        <div class="card-icon">
                            <img src="icons/2048.png" alt="2048 Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>2048</h4>
                            <p class="card-desc">Classic number puzzle game. Combine tiles to reach 2048.</p>
                        </div>
                    </article>

                    <article class="app-card" data-app="run3">
                        <div class="card-icon">
                            <img src="icons/run3.png" alt="Run 3 Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Run 3</h4>
                            <p class="card-desc">Endless space runner with gravity-shifting tunnel gameplay.</p>
                        </div>
                    </article>

                    <article class="app-card" data-app="blockblast">
                        <div class="card-icon">
                            <img src="icons/blockblast.png" alt="Block Blast Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Block Blast</h4>
                            <p class="card-desc">Fast-paced block placement puzzle with competitive scoring.</p>
                        </div>
                    </article>
                </div>
            </section>

            <section class="card-section">
                <h3>Operating Systems</h3>
                <div class="card-grid">
                    <article class="app-card" data-app="novaos">
                        <div class="card-icon">
                            <img src="icons/novaos.png" alt="NovaOS Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>NovaOS</h4>
                            <p class="card-desc">Full browser-based desktop operating system environment.</p>
                        </div>
                    </article>

                    <article class="app-card" data-app="winripen">
                        <div class="card-icon">
                            <img src="icons/winripen.png" alt="WinRipen Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>WinRipen</h4>
                            <p class="card-desc">Windows-inspired web OS with familiar desktop interface.</p>
                        </div>
                    </article>
                </div>
            </section>
        </main>

        <!-- ================= GAMES PAGE ================= -->
        <main data-page="games" class="page">
            <section class="page-header">
                <h2>Games</h2>
                <p>Explore our curated collection of school-friendly browser games. From puzzle games to platformers, sandbox simulations to racing games, there's something for everyone. All games have been reviewed to ensure they are appropriate for school environments.</p>
            </section>

            <!-- Featured Games Section -->
            <section class="featured-section">
                <h3 class="section-title">Featured</h3>
                <div class="featured-grid">
                    <div class="featured-card" data-app="minecraft">
                        <div class="featured-image-container">
                            <img src="https://via.placeholder.com/100x100/5c8a3d/ffffff?text=MC" alt="Minecraft Web" loading="lazy">
                        </div>
                        <div class="featured-content">
                            <h4>Minecraft Web</h4>
                            <p>Iconic sandbox building</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="sandboxels">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=S" alt="Sandboxels" loading="lazy">
                        <div class="featured-content">
                            <h4>Sandboxels</h4>
                            <p>500+ physics elements</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="retrobowl">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=RB" alt="Retro Bowl" loading="lazy">
                        <div class="featured-content">
                            <h4>Retro Bowl</h4>
                            <p>Classic football action</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="run3">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=R3" alt="Run 3" loading="lazy">
                        <div class="featured-content">
                            <h4>Run 3</h4>
                            <p>Space tunnel runner</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="game-categories">
                <div class="category-tabs">
                    <button class="category-tab active" data-category="all">All Games</button>
                    <button class="category-tab" data-category="puzzle">Puzzle</button>
                    <button class="category-tab" data-category="platformer">Platformer</button>
                    <button class="category-tab" data-category="sandbox">Sandbox</button>
                    <button class="category-tab" data-category="arcade">Arcade</button>
                    <button class="category-tab" data-category="strategy">Strategy</button>
                    <button class="category-tab" data-category="sports">Sports</button>
                    <button class="category-tab" data-category="action">Action</button>
                    <button class="category-tab" data-category="adventure">Adventure</button>
                </div>
            </section>

            <div class="card-grid">
                <article class="app-card" data-app="circle">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=O" alt="Draw a Circle Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Draw a Circle <span class="offline-tag" data-app="circle">OFFLINE</span></h4>
                        <p class="card-desc">Quick reflex challenge - draw the most perfect circle you can.</p>
                    </div>
                </article>

                <article class="app-card" data-app="2048">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=20" alt="2048 Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>2048</h4>
                        <p class="card-desc">Classic number puzzle. Combine matching numbers to win.</p>
                    </div>
                </article>

                <article class="app-card" data-app="minecraft" data-reguest="true">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/5c8a3d/ffffff?text=MC" alt="Minecraft Web Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Minecraft Web (Beta)</h4>
                        <p class="card-desc">Browser-based Minecraft experience with multiplayer focus.</p>
                    </div>
                </article>

                <article class="app-card" data-app="blockblast">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=BB" alt="Block Blast Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Block Blast <span class="offline-tag" data-app="blockblast">OFFLINE</span></h4>
                        <p class="card-desc">Fast-paced block placement puzzle game with competitive scoring.</p>
                    </div>
                </article>

                <article class="app-card" data-app="sandboxels">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=S" alt="Sandboxels Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Sandboxels</h4>
                        <p class="card-desc">Falling sand physics simulator with over 500 unique elements.</p>
                    </div>
                </article>

                <article class="app-card" data-app="run3">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=R3" alt="Run 3 Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Run 3</h4>
                        <p class="card-desc">Endless space runner through procedurally generated tunnels.</p>
                    </div>
                </article>

                <article class="app-card" data-app="portal">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=P" alt="Game Portal Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Sawfish Game Portal</h4>
                        <p class="card-desc">Central hub for all approved browser games in one convenient location.</p>
                    </div>
                </article>

                <article class="app-card" data-app="syrup">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=Sy" alt="Syrup Games Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Syrup Games</h4>
                        <p class="card-desc">Alternative game launcher with unique browser-based titles.</p>
                    </div>
                </article>

                <article class="app-card" data-app="bobtherobber">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=BR" alt="Bob The Robber Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Bob The Robber</h4>
                        <p class="card-desc">Stealth puzzle game series. Infiltrate locations and steal treasure.</p>
                    </div>
                </article>

                <article class="app-card" data-app="retrobowl">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=RB" alt="Retro Bowl Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Retro Bowl</h4>
                        <p class="card-desc">Classic American football management game with retro aesthetics.</p>
                    </div>
                </article>

                <article class="app-card" data-app="paperio2">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=IO" alt="Paper Io 2 Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Paper Io 2</h4>
                        <p class="card-desc">Territory conquest game. Capture territory and defeat opponents.</p>
                    </div>
                </article>

                <article class="app-card" data-app="lichess">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=Li" alt="Lichess Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Lichess</h4>
                        <p class="card-desc">Free, open-source chess platform. Play against AI or worldwide.</p>
                    </div>
                </article>

                <article class="app-card" data-app="tinyfishing">
                    <div class="card-icon">
                        <img src="https://via.placeholder.com/100x100/4da3ff/ffffff?text=TF" alt="Tiny Fishing Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Tiny Fishing</h4>
                        <p class="card-desc">Addictive fishing game. Catch fish and upgrade your gear.</p>
                    </div>
                </article>

                <article class="app-card" data-app="ovo">
                    <div class="card-icon">
                        <img src="icons/ovo.png" alt="OVO Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>OVO</h4>
                        <p class="card-desc">Fast-paced parkour game. Jump, slide, and wall-run through levels.</p>
                    </div>
                </article>

                <article class="app-card" data-app="towerofdestiny">
                    <div class="card-icon">
                        <img src="icons/towerofdestiny.png" alt="Tower of Destiny Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Tower of Destiny</h4>
                        <p class="card-desc">Climb the tower, avoid obstacles, and reach the top.</p>
                    </div>
                </article>
            </div>
        </main>

        <!-- ================= SOCIAL PAGE ================= -->
        <main data-page="social" class="page">
            <section class="page-header">
                <h2>Social</h2>
                <p>Stay connected with your classmates using these communication tools. All social tools have been configured to work within school network restrictions while providing effective real-time communication capabilities.</p>
            </section>

            <div class="card-grid">
                <article class="app-card" data-app="chat">
                    <div class="card-icon">
                        <img src="icons/chat.png" alt="Chat App Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Chat App</h4>
                        <p class="card-desc">Real-time browser-based messaging with rooms and channels for students.</p>
                    </div>
                </article>

                <article class="app-card" data-app="call">
                    <div class="card-icon">
                        <img src="icons/call.png" alt="Call App Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Call App</h4>
                        <p class="card-desc">Fast, simple browser-based voice calling interface for quick communication.</p>
                    </div>
                </article>

                <article class="app-card" data-app="hackernews">
                    <div class="card-icon">
                        <img src="icons/hackernews.png" alt="Hacker News Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Hacker News</h4>
                        <p class="card-desc">Social news website focusing on computer science, technology, and entrepreneurship.</p>
                    </div>
                </article>
            </div>

            <section class="social-features">
                <h3>Features</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                            </svg>
                        </div>
                        <h4>Instant Messaging</h4>
                        <p>Send and receive messages instantly with low latency communication protocols optimized for school networks.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                            </svg>
                        </div>
                        <h4>Voice Calling</h4>
                        <p>Initiate voice calls directly from your browser with WebRTC technology for crystal-clear audio quality.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <line x1="3" y1="9" x2="21" y2="9"/>
                                <line x1="9" y1="21" x2="9" y2="9"/>
                            </svg>
                        </div>
                        <h4>Rooms & Channels</h4>
                        <p>Organize conversations into topic-based rooms for better communication during group projects.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            </svg>
                        </div>
                        <h4>Safe & Secure</h4>
                        <p>All communications are secured and moderated to maintain a safe environment for all students.</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- ================= OS PAGE ================= -->
        <main data-page="os" class="page">
            <section class="page-header">
                <h2>Operating Systems</h2>
                <p>Explore browser-based operating system environments. These simulations provide educational experiences with desktop operating system concepts, complete with window management, file systems, and applications running entirely in your browser.</p>
            </section>

            <!-- Featured OS Section -->
            <section class="featured-section">
                <h3 class="section-title">Featured</h3>
                <div class="featured-grid">
                    <div class="featured-card" data-app="novaos">
                        <img src="icons/novaos.png" alt="NovaOS" loading="lazy">
                        <div class="featured-content">
                            <h4>NovaOS</h4>
                            <p>Full browser-based desktop</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="winripen">
                        <img src="icons/winripen.png" alt="WinRipen" loading="lazy">
                        <div class="featured-content">
                            <h4>WinRipen</h4>
                            <p>Windows-inspired web OS</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="plutoos">
                        <img src="icons/plutoos.png" alt="PlutoOS" loading="lazy">
                        <div class="featured-content">
                            <h4>PlutoOS</h4>
                            <p>Modern experimental web OS</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="ripenos">
                        <img src="icons/ripenos.png" alt="Ripenos" loading="lazy">
                        <div class="featured-content">
                            <h4>Ripenos</h4>
                            <p>Lightweight modular framework</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="os-notice">
                <div class="notice-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="16" x2="12" y2="12"/>
                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                    </svg>
                </div>
                <div class="notice-content">
                    <h3>Open in New Tab</h3>
                    <p>For the full interactive experience with all OS features, click the "Open App" button to launch each operating system in a new browser tab. This provides the complete window management and functionality.</p>
                </div>
            </section>

            <div class="card-grid">
                <article class="app-card" data-app="novaos">
                    <div class="card-icon">
                        <img src="icons/novaos.png" alt="NovaOS Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>NovaOS</h4>
                        <p class="card-desc">Full-featured browser-based desktop OS with apps, window management, and customization.</p>
                    </div>
                </article>

                <article class="app-card" data-app="winripen">
                    <div class="card-icon">
                        <img src="icons/winripen.png" alt="WinRipen Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>WinRipen</h4>
                        <p class="card-desc">Windows-inspired web OS with familiar desktop environment and applications.</p>
                    </div>
                </article>

                <article class="app-card" data-app="plutoos">
                    <div class="card-icon">
                        <img src="icons/plutoos.png" alt="PlutoOS Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>PlutoOS</h4>
                        <p class="card-desc">Modern, experimental web OS with futuristic UI and smooth animations.</p>
                    </div>
                </article>

                <article class="app-card" data-app="ripenos">
                    <div class="card-icon">
                        <img src="icons/ripenos.png" alt="Ripenos Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Ripenos</h4>
                        <p class="card-desc">Lightweight web OS framework with modular apps and fast performance.</p>
                    </div>
                </article>
            </div>
        </main>

        <!-- ================= MISCELLANEOUS PAGE ================= -->
        <main data-page="miscellaneous" class="page">
            <section class="page-header">
                <h2>Miscellaneous</h2>
                <p>Utilities, experimental tools, and other resources that don't fit into our main categories. These tools are designed for advanced users and students who need specialized functionality.</p>
            </section>

            <section class="misc-notice">
                <div class="notice-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                </div>
                <div class="notice-content">
                    <h3>Advanced Tools</h3>
                    <p>The tools in this section are intended for educational and developmental purposes. Please use them responsibly and follow any school guidelines regarding tool usage.</p>
                </div>
            </section>

            <div class="card-grid">
                <article class="app-card" data-app="hack">
                    <div class="card-icon">
                        <img src="icons/hack.png" alt="Hack Stuff Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Hack Stuff</h4>
                        <p class="card-desc">Restricted utilities and experimental tools for advanced users.</p>
                    </div>
                </article>

                <article class="app-card" data-app="monkeytype">
                    <div class="card-icon">
                        <img src="icons/monkeytype.png" alt="Monkeytype Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Monkeytype</h4>
                        <p class="card-desc">Minimalist typing test with customizable themes and detailed statistics.</p>
                    </div>
                </article>

                <article class="app-card" data-app="photopea">
                    <div class="card-icon">
                        <img src="icons/photopea.png" alt="Photopea Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Photopea</h4>
                        <p class="card-desc">Powerful online image editor. Edit photos without installation.</p>
                    </div>
                </article>

                <article class="app-card" data-app="hextris">
                    <div class="card-icon">
                        <img src="icons/hextris.png" alt="Hextris Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Hextris</h4>
                        <p class="card-desc">Addictive puzzle game played on a hexagonal grid.</p>
                    </div>
                </article>

                <article class="app-card" data-app="securecomms">
                    <div class="card-icon">
                        <img src="icons/IMG_0636.jpeg" alt="Secure Communication Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Secure Communication</h4>
                        <p class="card-desc">Encrypt and decrypt messages securely. Protect your private conversations.</p>
                    </div>
                </article>
            </div>
        </main>

        <!-- ================= CHANGELOG PAGE ================= -->
        <main data-page="changelog" class="page">
            <section class="page-header">
                <h2>Changelog</h2>
                <p>Track all the updates, improvements, and fixes made to the Sawfish App Store. This section documents the evolution of the application and helps users understand what's new in each version.</p>
            </section>

            <section class="changelog-meta">
                <div class="meta-card">
                    <div class="meta-label">Current Version</div>
                    <div class="meta-value" id="changelog-version">2.6.0</div>
                </div>
                <div class="meta-card">
                    <div class="meta-label">Last Updated</div>
                    <div class="meta-value" id="changelog-date">January 12, 2026</div>
                </div>
                <div class="meta-card">
                    <div class="meta-label">Total Changes</div>
                    <div class="meta-value">175</div>
                </div>
            </section>

            <section class="changelog-timeline">
                <article class="changelog-entry latest">
                    <div class="entry-header">
                        <div class="entry-version">v2.7.0</div>
                        <div class="entry-date">January 12, 2026</div>
                        <div class="entry-badge major">Major Update</div>
                    </div>
                    <div class="entry-content">
                        <h4>New Features</h4>
                        <ul>
                            <li>Complete Developer section overhaul - now dynamically populates from appData with isDev flag</li>
                            <li>Added 3 new Developer section grids: Development Resources, AI & Productivity Tools, and Web Publishing</li>
                            <li>All developer apps now automatically organized by category in the Developer tab</li>
                            <li>Added 2 new apps: Agent Minimax and GitHub.io, both flagged as developer tools</li>
                            <li>Minecraft removed from Quick Access section for cleaner navigation</li>
                            <li>All app icons now use placeholder images ensuring every app has a visible icon</li>
                        </ul>
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed broken Minecraft card in Quick Access - removed malformed HTML and missing article tag</li>
                            <li>Fixed user reviews - now load from localStorage when Firebase is unavailable</li>
                            <li>Fixed all missing icons - all apps now have proper placeholder icon URLs</li>
                            <li>Fixed Minecraft expanded view - now includes ratings, reviews, re-guest banner, and Launch Game button</li>
                            <li>Fixed Developer mode section - now dynamically populates from appData instead of broken static HTML</li>
                            <li>Fixed Minecraft interaction - "View Info & Reviews" button now opens expanded view with all features</li>
                        </ul>
                        <h4>Improvements</h4>
                        <ul>
                            <li>All apps with isDev flag automatically appear in appropriate Developer section categories</li>
                            <li>Search system properly filters developer apps from regular users</li>
                            <li>Developer resources section now categorizes apps by type (Development Tools, AI/P Productivity, Web Publishing)</li>
                            <li>All card click handlers work consistently across all sections</li>
                            <li>Unified app card rendering with shared createAppCard and addCardClickHandlers functions</li>
                        </ul>
                    </div>
                </article>
                
                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v2.6.0</div>
                        <div class="entry-date">January 12, 2026</div>
                        <div class="entry-badge major">Major Update</div>
                    </div>
                    <div class="entry-content">
                        <h4>New Features</h4>
                        <ul>
                            <li>Added dedicated Developer Tools tab - only visible when developer mode is active</li>
                            <li>Added new Dev Games tab for developer-only apps (separate from regular Games section)</li>
                            <li>Added 6 new apps: Snow Rider 3D, Investopedia Simulator, Student Grade Viewer, Chilibowl Flash, Territorial.io, and Slope</li>
                            <li>Enhanced Minecraft Re-Guest styling with consistent warning banners across Search, Featured, and Games sections</li>
                            <li>Added Re-Guest banner to Featured Minecraft hero card with proper positioning</li>
                            <li>Increased featured card image size for better visibility</li>
                        </ul>
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed developer apps visibility in search results - apps with isDev flag are now properly hidden from regular users</li>
                            <li>Fixed overlapping Re-Guest banners on Minecraft cards - removed duplicate warning spans from titles</li>
                            <li>Fixed user reviews not showing comments - review display now properly renders comment text</li>
                            <li>Removed "thumbs up" like button from search results to avoid redundancy with ratings</li>
                            <li>Fixed featured image sizing for Minecraft hero card with larger 140x140px display</li>
                            <li>Fixed Minecraft expanded view - now properly displays ratings, screenshots, and all app details</li>
                        </ul>
                        <h4>Improvements</h4>
                        <ul>
                            <li>Improved search filtering to respect developer-only app visibility</li>
                            <li>Enhanced visual consistency for Re-Guest warnings across all sections</li>
                            <li>Cleaner card layout in search results without unnecessary like buttons</li>
                            <li>Unified Re-Guest banner design - single consistent banner across all Minecraft cards</li>
                        </ul>
                    </div>
                </article>
                
                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v2.4.0</div>
                        <div class="entry-date">January 9, 2026</div>
                        <div class="entry-badge major">Critical Fixes</div>
                    </div>
                    <div class="entry-content">
                        <h4>Critical Bug Fixes</h4>
                        <ul>
                            <li>Fixed user search - now shows ALL users immediately on page load, not just when typing</li>
                            <li>Fixed user search filtering - searches username, email, and bio for better results</li>
                            <li>Fixed profile picture upload - images now upload correctly and display immediately in all locations</li>
                            <li>Fixed profile picture achievement - awarded when uploading profile picture</li>
                        </ul>
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed developer-only apps styling - added proper borders, backgrounds, and hover effects</li>
                            <li>Removed duplicate sidebar CSS rules that could cause layout issues</li>
                            <li>Added Hacker News to Social section - now visible in the Social tab</li>
                            <li>Fixed sidebar overlap - ensured main content has proper margin-left spacing</li>
                            <li>Fixed user search section visibility - shows immediately when navigating to Community page</li>
                        </ul>
                        <h4>Improvements</h4>
                        <ul>
                            <li>Enhanced user search with focus event - shows all users when clicking on search box</li>
                            <li>Improved profile picture upload flow with immediate preview updates</li>
                            <li>Developer apps now have distinctive styling with purple accents when developer mode is active</li>
                        </ul>
                    </div>
                </article>
                
                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v2.3.0</div>
                        <div class="entry-date">January 9, 2026</div>
                        <div class="entry-badge major">Critical Fixes</div>
                    </div>
                    <div class="entry-content">
                        <h4>Critical Bug Fixes</h4>
                        <ul>
                            <li>Fixed login persistence - users can now log back in after logging out (added Firebase auth persistence and onAuthStateChanged listener)</li>
                            <li>Fixed bio saving - bio now properly saves to Firestore and localStorage</li>
                            <li>Fixed profile pictures - upload functionality now works correctly</li>
                            <li>Fixed user search - now searches ALL users, not just the current user</li>
                        </ul>
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed petition button - checkbox now properly marks posts as petitions and resets after posting</li>
                            <li>Added cancel button to profile modal for easy exit without saving</li>
                            <li>Profile modal now auto-closes after saving changes</li>
                            <li>Added missing apps to appData - Hack Stuff, Secure Communication, and 2048 now have expanded views</li>
                            <li>Added re-guest warning tag to Minecraft in quick access section</li>
                            <li>Fixed developer app formatting - Piskel, VS Code Web, ShaderToy, TiddlyWiki, and Neocities now display correctly</li>
                            <li>Hacker News and other discovered apps are now properly categorized and findable</li>
                        </ul>
                        <h4>New Features</h4>
                        <ul>
                            <li>Added cancel button to profile modal</li>
                            <li>Added bio field to profile editing</li>
                            <li>Added expanded view support for all apps including Hack Stuff, Secure Communications, and 2048</li>
                        </ul>
                    </div>
                </article>
                
                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v2.2.0</div>
                        <div class="entry-date">January 9, 2026</div>
                        <div class="entry-badge major">Major Update</div>
                    </div>
                    <div class="entry-content">
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed user search - now shows all users, not just current user</li>
                            <li>Fixed profile picture upload - images now save and display correctly</li>
                            <li>Fixed petition button - checkbox now properly marks posts as petitions</li>
                            <li>Fixed dashboard exit - close button now properly exits developer mode</li>
                            <li>Fixed user reviews - reviews now display correctly in expanded view</li>
                            <li>Removed ratings from app cards - ratings now only shown in expanded view for cleaner look</li>
                        </ul>
                        <h4>New Features</h4>
                        <ul>
                            <li>Added achievements system with 9 badges: First Steps, Thumbs Up, Popular, Critic, Completionist, Developer, Face to Face, Storyteller, Social Butterfly</li>
                            <li>Added bio editing in user profile - users can now write and edit their bio</li>
                            <li>Added user achievements display in user search results</li>
                            <li>Added styled developer login modal matching regular login</li>
                            <li>Added complete expanded view styling with proper layout and typography</li>
                            <li>Added rating bars visualization in expanded view</li>
                        </ul>
                        <h4>Improvements</h4>
                        <ul>
                            <li>Enhanced expanded view with 2-column screenshot grid</li>
                            <li>Improved profile modal with bio textarea</li>
                            <li>Added achievement notifications when unlocking badges</li>
                            <li>Improved user card styling in search results with achievements</li>
                        </ul>
                    </div>
                </article>
                
                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v2.1.0</div>
                        <div class="entry-date">January 9, 2026</div>
                        <div class="entry-badge major">Major Update</div>
                    </div>
                    <div class="entry-content">
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed search functionality - improved search algorithm for better accuracy</li>
                            <li>Fixed login/signup button not working when clicked directly</li>
                            <li>Fixed anonymous user display showing "Anonymous Anonymous"</li>
                            <li>Fixed like functionality - likes now increment and display correctly</li>
                            <li>Fixed petition checkbox styling - text now readable</li>
                            <li>Fixed developer login button styling for better visibility</li>
                            <li>Fixed profile avatar border and styling</li>
                            <li>Fixed ratings not showing consistently across all sections</li>
                            <li>Fixed review submission - reviews now show under User Reviews</li>
                            <li>Fixed character limit for community posts - now 1000 characters</li>
                        </ul>
                        <h4>Features</h4>
                        <ul>
                            <li>Made programming/coding apps dev-only (VS Code, Shadertoy, Neocities, Piskel, TiddlyWiki)</li>
                            <li>Developer dashboard now exits developer mode when closed</li>
                            <li>Rating now mandatory, review text is optional</li>
                            <li>Added proper screenshot gallery with 2-column grid in expanded view</li>
                            <li>Improved expanded view styling with better formatting</li>
                        </ul>
                    </div>
                </article>
                
                <article class="changelog-entry latest">
                    <div class="entry-header">
                        <div class="entry-version">v2.0.0</div>
                        <div class="entry-date">January 8, 2026</div>
                        <div class="entry-badge major">Major Release</div>
                    </div>
                    <div class="entry-content">
                        <h4>New Features</h4>
                        <ul>
                            <li>Implemented complete Firebase Authentication system with email/password login and signup</li>
                            <li>Added user profile system with customizable profile pictures (no file size limits via Firebase Storage)</li>
                            <li>Created new Search tab with instant filtering, category filtering, and highlighted results</li>
                            <li>Added numerical rating display (e.g., "4.5") alongside star ratings for better clarity</li>
                            <li>Created dedicated Miscellaneous tab for utilities and advanced tools (moved Hack Stuff)</li>
                            <li>Added Monkeytype to the app collection with full rating and review support</li>
                            <li>Implemented update checker linking to the-sawfish.github.io/update for version verification</li>
                            <li>Added responsive iPad layout with optimized 3-column grid and improved touch targets</li>
                            <li>Enhanced rating system with numeric badges showing average ratings on app cards</li>
                            <li>Added profile modal with avatar upload, display name editing, and account management</li>
                            <li>Implemented authentication modal with login/signup tabs and email verification flow</li>
                            <li>Added Firebase Storage integration for profile pictures with no file size restrictions</li>
                            <li>Created hybrid authentication allowing both Firebase Auth and hardcoded developer backdoor</li>
                            <li>Enhanced developer mode with special tag display on reviews and responses</li>
                        </ul>
                        <h4>Improvements</h4>
                        <ul>
                            <li>Completely redesigned responsive CSS for better iPad and tablet experience</li>
                            <li>Optimized card grid layout with 3-column display on tablets (769px-1024px)</li>
                            <li>Improved touch target sizes for better mobile and tablet accessibility</li>
                            <li>Enhanced visual hierarchy with larger icons and improved typography on tablets</li>
                            <li>Streamlined sidebar navigation with better spacing on iPad devices</li>
                            <li>Improved search input with larger padding and enhanced focus states</li>
                            <li>Enhanced featured sections with larger images and better spacing on tablets</li>
                            <li>Optimized rating badge visibility with color-coded rating indicators</li>
                            <li>Improved profile modal animations and transitions</li>
                            <li>Enhanced authentication flow with better error handling and user feedback</li>
                        </ul>
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed rating display issues - ratings now visible on all pages (Home, Featured, Games, OS, Social, Miscellaneous)</li>
                            <li>Resolved duplicate ID conflicts causing star rendering issues on app cards</li>
                            <li>Fixed star display inconsistency between expanded view and app cards</li>
                            <li>Corrected app visibility issues for apps in all categories and tabs</li>
                            <li>Fixed iPad grid layout issues with proper responsive breakpoints</li>
                            <li>Resolved sidebar text overflow issues on tablet viewports</li>
                            <li>Fixed modal backdrop click handling for all modal types</li>
                            <li>Corrected search highlighting for matched terms</li>
                            <li>Fixed profile avatar upload preview not displaying immediately</li>
                            <li>Resolved authentication state persistence across page refreshes</li>
                        </ul>
                    </div>
                </article>

                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v1.1.0</div>
                        <div class="entry-date">January 6, 2026</div>
                        <div class="entry-badge major">Major Release</div>
                    </div>
                    <div class="entry-content">
                        <h4>New Features</h4>
                        <ul>
                            <li>Implemented Firebase Firestore integration for cloud-synced ratings and reviews across all devices</li>
                            <li>Added real-time review updates that sync instantly when new reviews are submitted</li>
                            <li>Introduced Developer Mode with password protection for official responses</li>
                            <li>Developer responses now feature special styling with developer badges for clear identification</li>
                            <li>Added Featured sections to Games and OS tabs highlighting top content</li>
                            <li>Enhanced UI with new Featured grid layout on Games and OS pages</li>
                            <li>Removed iframe previews from OS tab for cleaner, faster page loading</li>
                            <li>Added developer login button to sidebar for easy access to developer features</li>
                            <li>Improved rating distribution visualization with visual progress bars</li>
                            <li>Added automatic average rating calculations with real-time updates</li>
                        </ul>
                        <h4>Improvements</h4>
                        <ul>
                            <li>Optimized database queries for faster review loading</li>
                            <li>Enhanced offline support with local storage fallback when Firebase is unavailable</li>
                            <li>Improved review submission with instant feedback notifications</li>
                            <li>Streamlined OS page with focus on content rather than embedded previews</li>
                            <li>Enhanced mobile responsive design for featured content grids</li>
                            <li>Improved accessibility with proper ARIA labels on developer mode elements</li>
                            <li>Better error handling for network connectivity issues</li>
                        </ul>
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed issues with duplicate review entries when submitting</li>
                            <li>Resolved rating calculation errors for apps with no reviews</li>
                            <li>Fixed timestamp display formatting issues</li>
                            <li>Resolved memory leak in real-time review subscriptions</li>
                            <li>Fixed CSS styling issues on developer response badges</li>
                            <li>Fixed star rendering bug causing 6 stars to appear instead of 5 on rating displays</li>
                            <li>Fixed star display inconsistency where stars rendered correctly in expanded app view but failed on app cards due to duplicate ID conflicts</li>
                            <li>Fixed app visibility issue preventing newly added apps from appearing in their designated sections</li>
                            <li>Added detailed descriptions for all apps to improve user understanding of app features and functionality</li>
                        </ul>
                    </div>
                </article>

                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v1.0.0</div>
                        <div class="entry-date">January 6, 2026</div>
                        <div class="entry-badge major">Major Release</div>
                    </div>
                    <div class="entry-content">
                        <h4>New Features</h4>
                        <ul>
                            <li>Complete redesign with Apple App Store-inspired dark mode interface</li>
                            <li>Added sidebar navigation with expandable/collapsible design</li>
                            <li>Implemented Firestore integration for cross-platform ratings and reviews</li>
                            <li>Created detailed expanded descriptions for all 18+ apps</li>
                            <li>Added PWA installation detection and installation screen</li>
                            <li>Implemented real-time rating updates using Firebase Firestore</li>
                            <li>Added comprehensive rating and review submission system</li>
                            <li>Created mobile-responsive 2-card wide layout for app grid</li>
                            <li>Added OS preview functionality with iframe overlays</li>
                            <li>Implemented category filtering for games section</li>
                            <li>Added welcome modal with important app guidelines</li>
                            <li>Created featured apps section with highlighted content</li>
                        </ul>
                        <h4>Improvements</h4>
                        <ul>
                            <li>Optimized performance for smoother animations and transitions</li>
                            <li>Improved accessibility with proper ARIA labels and semantic HTML</li>
                            <li>Enhanced mobile experience with touch-friendly interactions</li>
                            <li>Better offline support with comprehensive service worker caching</li>
                            <li>Improved visual hierarchy and information architecture</li>
                            <li>Added loading states and skeleton screens for better UX</li>
                            <li>Enhanced icon system with consistent SVG styling</li>
                        </ul>
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed issues with expanded view rendering in PWA mode</li>
                            <li>Resolved duplicate App Store display problems in web preview</li>
                            <li>Fixed rating display inconsistencies across different pages</li>
                            <li>Resolved navigation issues when switching between tabs</li>
                            <li>Fixed iframe loading issues in OS preview section</li>
                            <li>Resolved mobile layout issues on various screen sizes</li>
                        </ul>
                    </div>
                </article>

                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v0.9.0</div>
                        <div class="entry-date">December 16, 2025</div>
                        <div class="entry-badge">Beta</div>
                    </div>
                    <div class="entry-content">
                        <h4>Initial Release</h4>
                        <ul>
                            <li>Launched Sawfish App Store with basic PWA functionality</li>
                            <li>Added installation detection and screen</li>
                            <li>Implemented tab-based navigation (Home, Games, Social, OS)</li>
                            <li>Added 18+ apps with basic card displays</li>
                            <li>Implemented service worker for offline caching</li>
                            <li>Added manifest.json for PWA installability</li>
                            <li>Created initial dark theme styling</li>
                        </ul>
                    </div>
                </article>
            </section>

            <section class="changelog-actions">
                <h3>Submit an App</h3>
                <p>Have a suggestion for an app to add to the store? We'd love to hear from you!</p>
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSfHkT-qS6r6tT1T3c1wKxK3jQyJDy5e8sK8e3iM5n2v1wZ4xQ/viewform" target="_blank" rel="noopener noreferrer" class="btn-primary">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                    </svg>
                    Submit App Request
                </a>
            </section>
        </main>

        <!-- ================= DEVELOPER TOOLS PAGE ================= -->
        <main data-page="developer" class="page">
            <section class="page-header">
                <h2>Developer Tools</h2>
                <p>Access development resources, testing tools, and internal applications. This section is only visible to developers with proper credentials.</p>
            </section>

            <section class="developer-notice">
                <div class="notice-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                </div>
                <div class="notice-content">
                    <h3>Restricted Access</h3>
                    <p>You have access to developer-only tools and resources. These are intended for building, testing, and managing the Sawfish App Store ecosystem.</p>
                </div>
            </section>

            <section class="card-section">
                <h3>Development Resources</h3>
                <p class="section-subtitle">Essential tools for building and creating</p>
                <div class="card-grid" id="developer-resources-grid">
                    <!-- Developer resources will be loaded dynamically -->
                </div>
            </section>

            <section class="card-section">
                <h3>AI & Productivity Tools</h3>
                <p class="section-subtitle">Modern tools to boost your workflow</p>
                <div class="card-grid" id="developer-productivity-grid">
                    <!-- AI and productivity tools will be loaded dynamically -->
                </div>
            </section>

            <section class="card-section">
                <h3>Web Publishing</h3>
                <p class="section-subtitle">Create and share your own websites</p>
                <div class="card-grid" id="developer-publishing-grid">
                    <!-- Web publishing tools will be loaded dynamically -->
                </div>
            </section>

            <section class="card-section">
                <h3>Development Test Apps</h3>
                <p class="section-subtitle">Testing and experimental applications</p>
                <div class="card-grid" id="developer-games-grid">
                    <!-- Developer-only apps will be loaded here dynamically -->
                </div>
            </section>
        </main>

        <!-- ================= COMMUNITY BOARD PAGE ================= -->
        <main data-page="community" class="page">
            <section class="page-header">
                <h2>Community Board</h2>
                <p>Connect with other users, share your thoughts, and post petitions. All posts are anonymous by default unless you're logged in.</p>
            </section>

            <section class="community-user-search">
                <input type="text" id="community-user-search" class="user-search-input" placeholder="Search for users..." autocomplete="off">
            </section>
            
            <section id="community-users-section" class="community-users-section hidden">
                <div id="community-users-list" class="community-users-list">
                    <!-- Users will be loaded here -->
                </div>
            </section>

            <section class="community-post-section">
                <form id="community-post-form" class="community-form">
                    <textarea 
                        id="community-post-input" 
                        placeholder="Share your thoughts, suggest apps, or start a discussion..."
                        rows="3"
                        maxlength="1000"
                    ></textarea>
                    <div class="community-form-options">
                        <label class="petition-checkbox">
                            <input type="checkbox" id="post-is-petition">
                            <span class="checkmark"></span>
                            <span class="petition-label-text">Mark as Petition</span>
                        </label>
                    </div>
                    <div class="community-form-actions">
                        <span class="char-count"><span id="char-current">0</span>/1000</span>
                        <button type="submit" id="community-submit-btn" class="btn-primary">Post</button>
                    </div>
                </form>
            </section>

            <section class="community-posts-section">
                <div class="community-header-row">
                    <h3>Recent Posts</h3>
                    <div class="community-filter">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="chat">Chat</button>
                        <button class="filter-btn" data-filter="petition">Petitions</button>
                    </div>
                </div>
                <div id="community-posts-container" class="community-posts-container">
                    <!-- Posts will be loaded here -->
                    <div class="community-empty">
                        <p>No posts yet. Be the first to share something!</p>
                    </div>
                </div>
            </section>
        </main>
    </main>

    <!-- ================= EXPANDED APP DETAILS OVERLAY ================= -->
    <div id="expanded-overlay" class="expanded-overlay hidden" aria-hidden="true">
        <div class="expanded-backdrop"></div>
        <div class="expanded-container">
            <div class="expanded-header-bar">
                <button class="expanded-close-btn" aria-label="Close expanded view">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="expanded-content-wrapper" id="expanded-content-wrapper">
                <!-- Expanded content will be injected here -->
            </div>
        </div>
    </div>

    <!-- ================= MINECRAFT WARNING OVERLAY ================= -->
    <div id="minecraft-warning-overlay" class="modal-overlay hidden" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-container warning-modal">
            <div class="modal-header warning-header">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="warning-icon">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                    <line x1="12" y1="9" x2="12" y2="13"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                <h2 id="minecraft-warning-title">Minecraft - Multiplayer Notice</h2>
            </div>
            <div class="modal-body">
                <p id="minecraft-warning-message"></p>
            </div>
            <div class="modal-footer">
                <button id="minecraft-cancel-btn" class="btn-secondary">Cancel</button>
                <button id="minecraft-launch-btn" class="btn-primary">Launch Game</button>
            </div>
        </div>
    </div>

    <!-- ================= WELCOME MODAL (PWA Only) ================= -->
    <div id="welcome-modal" class="modal-overlay hidden" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="welcome-title">Read This First</h2>
                <p class="modal-subtitle">Important guidelines for the best experience</p>
            </div>
            
            <div class="modal-body">
                <div class="modal-scroll-content" id="modal-scroll-content">
                    <div class="guideline-section">
                        <h3>Minecraft Web Important Rule</h3>
                        <p>
                            In Minecraft Web, <strong>do not use single player</strong>. You 
                            <strong>must use a multiplayer server</strong> to be able to craft.
                            The single player mode in this web version does not include
                            crafting functionality. Prefer the <strong>official first server</strong>
                            when available for the best multiplayer experience with other players.
                            The developers are working on enabling single player crafting, but
                            for now, multiplayer is required for full functionality.
                        </p>
                    </div>
                    
                    <div class="guideline-section">
                        <h3>Add Apps for Best Experience</h3>
                        <p>
                            For the smoothest experience, add important apps to your Home Screen
                            when possible. Some apps require installation to work well including
                            fullscreen mode, faster load times, and better reliability on school
                            networks. The installation process is quick and easy, requiring only
                            a few taps in your browser's share menu.
                        </p>
                    </div>
                    
                    <div class="guideline-section">
                        <h3>Social Tools Usage</h3>
                        <p>
                            The Chat App and Call App are designed for legitimate educational
                            and social purposes. Please use these tools responsibly and respect
                            other users. Harassment, bullying, or inappropriate content may
                            result in temporary or permanent loss of access to these services.
                            All messages are logged for safety purposes.
                        </p>
                    </div>
                    
                    <div class="guideline-section">
                        <h3>Changelog & Updates</h3>
                        <p>
                            This app improves over time. Check the <strong>Changelog</strong>
                            tab to see what's new in each version. If you ever see old content
                            or experience issues, use the <strong>Update</strong> button in
                            the top banner to refresh the application cache and get the latest
                            version. Updates are typically deployed weekly with new features
                            and bug fixes.
                        </p>
                    </div>
                    
                    <div class="guideline-section">
                        <h3>Rating and Reviews</h3>
                        <p>
                            Your feedback helps improve the app store experience for everyone.
                            Rate your favorite apps and leave reviews to help other students
                            discover great content. All ratings and reviews are stored in the
                            cloud and sync across all devices. Please leave honest and helpful
                            reviews that benefit the community. Developers can respond to reviews
                            when logged in with developer mode.
                        </p>
                    </div>
                    
                    <div class="scroll-indicator">
                        <span>Scroll to continue</span>
                        <div class="scroll-arrow"></div>
                    </div>
                </div>
                
                <div class="modal-returning-content hidden" id="modal-returning-content">
                    <p>Welcome back! Tap Continue to enter the app.</p>
                </div>
            </div>
            
            <div class="modal-footer">
                <label class="ack-checkbox-row hidden" id="ack-checkbox-row">
                    <input type="checkbox" id="welcome-ack">
                    <span>I understand and agree to follow these guidelines</span>
                </label>
                <button id="welcome-continue" class="modal-continue-btn" type="button" disabled>
                    Continue
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="5" y1="12" x2="19" y2="12"/>
                        <polyline points="12 5 19 12 12 19"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- ================= AUTH MODAL (Login/Signup) ================= -->
    <div id="auth-modal" class="modal-overlay auth-modal hidden" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="auth-modal-title">Sign In</h2>
                <p class="modal-subtitle">Access your profile and sync your data</p>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab active" data-auth-tab="login">Sign In</button>
                <button class="auth-tab" data-auth-tab="signup">Create Account</button>
            </div>
            
            <div class="auth-form" id="auth-form-container">
                <div class="auth-error" id="auth-error"></div>
                <div class="auth-success" id="auth-success"></div>
                
                <!-- Login Form -->
                <form id="login-form" class="auth-form-active">
                    <div class="form-group">
                        <label for="login-email">Email Address</label>
                        <input type="email" id="login-email" class="styled-input" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" class="styled-input" placeholder="Enter your password" required>
                    </div>
                    <button type="submit" class="auth-submit-btn" id="login-submit">Sign In</button>
                </form>
                
                <!-- Signup Form -->
                <form id="signup-form" style="display: none;">
                    <div class="form-group">
                        <label for="signup-name">Display Name</label>
                        <input type="text" id="signup-name" class="styled-input" placeholder="Choose a display name" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-email">Email Address</label>
                        <input type="email" id="signup-email" class="styled-input" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-password">Password</label>
                        <input type="password" id="signup-password" class="styled-input" placeholder="Create a password (min 6 characters)" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="signup-confirm">Confirm Password</label>
                        <input type="password" id="signup-confirm" class="styled-input" placeholder="Confirm your password" required>
                    </div>
                    <button type="submit" class="auth-submit-btn" id="signup-submit">Create Account</button>
                </form>
                
                <!-- Password Reset Form -->
                <form id="reset-form" style="display: none;">
                    <div class="form-group">
                        <label for="reset-email">Email Address</label>
                        <input type="email" id="reset-email" class="styled-input" placeholder="Enter your email" required>
                    </div>
                    <button type="submit" class="auth-submit-btn" id="reset-submit">Send Reset Link</button>
                </form>
                
                <div class="auth-footer">
                    <a href="#" id="auth-switch-to-reset" style="display: none;">Forgot your password?</a>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="auth-cancel" class="modal-cancel-btn" type="button">Cancel</button>
            </div>
        </div>
    </div>

    <!-- ================= PROFILE MODAL ================= -->
    <div id="profile-modal" class="modal-overlay profile-modal hidden" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2>Your Profile</h2>
                <p class="modal-subtitle">Manage your account and preferences</p>
            </div>
            
            <div class="profile-header">
                <div class="profile-avatar-large" id="profile-avatar-preview">
                    <img src="" alt="Profile" id="profile-avatar-img" style="display: none;">
                    <span id="profile-avatar-initial">?</span>
                </div>
                <div class="profile-info">
                    <h2 id="profile-display-name">Guest</h2>
                    <p id="profile-email">Not signed in</p>
                    <span class="profile-status" id="profile-status-badge">Guest</span>
                </div>
                <!-- Achievements Badge Display -->
                <div class="profile-achievements-container" id="profile-achievements-container">
                    <div class="achievements-circle" id="achievements-circle" title="View your achievements">
                        <span class="achievements-count" id="achievements-count">0</span>
                    </div>
                </div>
            </div>
            
            <div class="profile-body">
                <div class="profile-section">
                    <h3>Profile Picture</h3>
                    <div class="avatar-upload">
                        <div class="avatar-upload-preview" id="profile-avatar-upload-preview">
                            <img src="" alt="Profile" id="upload-preview-img" style="display: none;">
                            <span id="upload-preview-initial">?</span>
                        </div>
                        <div>
                            <label for="avatar-upload-input" class="avatar-upload-btn">
                                Choose Image
                            </label>
                            <input type="file" id="avatar-upload-input" accept="image/*">
                            <p style="font-size: 0.75rem; color: var(--text-tertiary); margin-top: var(--spacing-xs);">
                                No file size limit - any image size accepted
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3>Account Information</h3>
                    <form class="profile-form" id="profile-form">
                        <div class="form-group">
                            <label for="profile-name-input">Display Name</label>
                            <input type="text" id="profile-name-input" placeholder="Your name">
                        </div>
                        <div class="form-group">
                            <label for="profile-bio-input">Bio</label>
                            <textarea id="profile-bio-input" placeholder="Tell us about yourself..." rows="3"></textarea>
                        </div>
                    </form>
                </div>
                
                <div class="profile-actions">
                    <button class="profile-btn secondary" id="profile-cancel-btn" type="button">Cancel</button>
                    <button class="profile-btn secondary" id="profile-logout-btn" type="button">Sign Out</button>
                    <button class="profile-btn primary" id="profile-save-btn" type="button">Save Changes</button>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="profile-close" class="modal-cancel-btn" type="button">Close</button>
            </div>
        </div>
    </div>

    <!-- ================= ACHIEVEMENTS DETAIL MODAL ================= -->
    <div id="achievements-modal" class="modal-overlay hidden" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-container achievements-modal">
            <div class="modal-header">
                <h2>Your Achievements</h2>
                <p class="modal-subtitle">Badges you've earned through your activity</p>
            </div>
            <div class="modal-body">
                <div class="achievements-grid" id="achievements-grid">
                    <!-- Achievements will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button id="achievements-close" class="modal-cancel-btn" type="button">Close</button>
            </div>
        </div>
    </div>

    <!-- ================= USER ACHIEVEMENTS MODAL (for other users) ================= -->
    <div id="user-achievements-modal" class="modal-overlay hidden" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-container achievements-modal">
            <div class="modal-header">
                <h2 id="user-achievements-title">User Achievements</h2>
                <p class="modal-subtitle">Badges this user has earned</p>
            </div>
            <div class="modal-body">
                <div class="achievements-grid" id="user-achievements-grid">
                    <!-- User achievements will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button id="user-achievements-close" class="modal-cancel-btn" type="button">Close</button>
            </div>
        </div>
    </div>

    <!-- ================= DEVELOPER LOGIN MODAL ================= -->
    <div id="developer-login-modal" class="modal-overlay hidden" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-container developer-modal">
            <div class="modal-header">
                <h2>Developer Login</h2>
                <p class="modal-subtitle">Enter your developer credentials to access developer tools</p>
            </div>
            
            <div class="modal-body">
                <div class="developer-login-form">
                    <div class="form-group">
                        <label for="developer-password">Password</label>
                        <input type="password" id="developer-password" class="password-input-field" placeholder="Enter developer password" autocomplete="off">
                    </div>
                    <p class="password-hint">Password characters are masked for security</p>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="developer-cancel" class="modal-cancel-btn" type="button">Cancel</button>
                <button id="developer-submit" class="modal-continue-btn" type="button">Login</button>
            </div>
        </div>
    </div>

    <!-- ================= DEVELOPER DASHBOARD ================= -->
    <div id="developer-dashboard" class="developer-dashboard hidden" aria-hidden="true">
        <div class="developer-overlay"></div>
        <div class="developer-panel">
            <div class="developer-panel-header">
                <h2>Developer Dashboard</h2>
                <button id="developer-close-dashboard" class="expanded-close-btn" aria-label="Close developer dashboard">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            
            <nav class="developer-nav">
                <button class="developer-nav-btn active" data-developer-tab="analytics">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="20" x2="18" y2="10"/>
                        <line x1="12" y1="20" x2="12" y2="4"/>
                        <line x1="6" y1="20" x2="6" y2="14"/>
                    </svg>
                    Analytics
                </button>
                <button class="developer-nav-btn" data-developer-tab="appmanager">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <line x1="3" y1="9" x2="21" y2="9"/>
                        <line x1="9" y1="21" x2="9" y2="9"/>
                    </svg>
                    App Manager
                </button>
                <button class="developer-nav-btn" data-developer-tab="announcements">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 17H2a3 3 0 0 0 3-3V9a7 7 0 0 1 14 0v5a3 3 0 0 0 3 3zm-8.27 4a2 2 0 0 1-3.46 0"/>
                    </svg>
                    Announcements
                </button>
                <button class="developer-nav-btn" data-developer-tab="moderation">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    Moderation
                </button>
            </nav>
            
            <div class="developer-content">
                <!-- Analytics Tab -->
                <div class="developer-tab-content active" data-developer-content="analytics">
                    <h3>Store Analytics</h3>
                    <div class="analytics-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="stat-total-reviews">0</div>
                            <div class="stat-label">Total Reviews</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="stat-total-apps">18</div>
                            <div class="stat-label">Total Apps</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="stat-avg-rating">0.0</div>
                            <div class="stat-label">Avg Rating</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="stat-developer-responses">0</div>
                            <div class="stat-label">Dev Responses</div>
                        </div>
                    </div>
                    
                    <h4>Top Rated Apps</h4>
                    <div class="top-rated-list" id="top-rated-apps">
                        <p class="muted">Loading analytics...</p>
                    </div>
                </div>
                
                <!-- App Manager Tab -->
                <div class="developer-tab-content" data-developer-content="appmanager">
                    <h3>App Management</h3>
                    <div class="app-manager-controls">
                        <button id="add-new-app-btn" class="action-btn primary">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                            Add New App
                        </button>
                    </div>
                    <div class="app-list" id="app-manager-list">
                        <p class="muted">Loading apps...</p>
                    </div>
                </div>
                
                <!-- Announcements Tab -->
                <div class="developer-tab-content" data-developer-content="announcements">
                    <h3>System Announcements</h3>
                    <div class="announcement-form">
                        <div class="form-group">
                            <label for="announcement-title">Title</label>
                            <input type="text" id="announcement-title" placeholder="Announcement title">
                        </div>
                        <div class="form-group">
                            <label for="announcement-text">Message</label>
                            <textarea id="announcement-text" placeholder="Enter your announcement..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="announcement-type">Type</label>
                            <select id="announcement-type">
                                <option value="info">Information</option>
                                <option value="warning">Warning</option>
                                <option value="success">Success</option>
                            </select>
                        </div>
                        <button id="publish-announcement" class="action-btn primary">Publish Announcement</button>
                    </div>
                    
                    <h4>Recent Announcements</h4>
                    <div class="announcement-list" id="announcement-list">
                        <p class="muted">No announcements yet</p>
                    </div>
                </div>
                
                <!-- Moderation Tab -->
                <div class="developer-tab-content" data-developer-content="moderation">
                    <h3>Review Moderation</h3>
                    <div class="moderation-controls">
                        <div class="search-box">
                            <input type="text" id="moderation-search" placeholder="Search reviews...">
                        </div>
                        <div class="filter-controls">
                            <select id="moderation-filter">
                                <option value="all">All Reviews</option>
                                <option value="flagged">Flagged</option>
                                <option value="low-rating">Low Rating (1-2)</option>
                            </select>
                        </div>
                    </div>
                    <div class="moderation-list" id="moderation-list">
                        <p class="muted">Loading reviews for moderation...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================= ANNOUNCEMENT BANNER ================= -->
    <div id="announcement-banner" class="announcement-banner hidden" aria-hidden="true">
        <div class="announcement-banner-content">
            <span class="announcement-icon"></span>
            <span class="announcement-text"></span>
        </div>
        <button id="announcement-close" class="announcement-close" aria-label="Dismiss announcement">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        </button>
    </div>

    <!-- ================= FIRESTORE RATINGS DISPLAY ================= -->
    <div id="ratings-display" class="ratings-display hidden">
        <!-- Ratings will be loaded dynamically for each app -->
    </div>

</section>

<!-- ================= FIREBASE SDK ================= -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

<!-- ================= APPLICATION SCRIPTS ================= -->
<script>
    // Version and date info
    document.getElementById('install-date')?.textContent = new Date().toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
    document.getElementById('changelog-date').textContent = new Date().toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
</script>

<!-- ================= SERVICE WORKER REGISTRATION ================= -->
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('./service-worker.js')
                .then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                })
                .catch(function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
        });
    }
</script>

<script src="app.js"></script>

</body>
</html>
