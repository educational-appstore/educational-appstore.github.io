<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Sawfish App Store</title>
    <meta name="description" content="A fast, school-safe way to access games and student tools. Install as a PWA for the full experience.">
    <meta name="theme-color" content="#0b0d10">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Sawfish Store">
    <link rel="manifest" href="manifest.json?v=2">
    <link rel="stylesheet" href="style.css?v=2">
    <link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192.png">
    <link rel="version" href="version.json">
</head>
<body>

<!-- ==========================================================
     INSTALLATION SCREEN (Shown ONLY when NOT installed as PWA)
=========================================================== -->
<section data-screen="install" class="visible">
    <header class="install-header">
        <div class="install-logo">
            <svg viewBox="0 0 100 100" class="sawfish-logo">
                <circle cx="50" cy="50" r="45" fill="#4da3ff" opacity="0.1"/>
                <path d="M30 65 Q50 20 70 65 Q50 75 30 65" fill="none" stroke="#4da3ff" stroke-width="3"/>
                <circle cx="35" cy="55" r="4" fill="#4da3ff"/>
                <circle cx="65" cy="55" r="4" fill="#4da3ff"/>
            </svg>
        </div>
        <h1>Sawfish App Store</h1>
        <p class="subtitle">A fast, school-safe way to access games and student tools.</p>
    </header>

    <main class="install-content">
        <section class="intro-block">
            <h2>Why This Exists</h2>
            <p>
                Many schools rely on managed app tools that can feel slow, limited,
                or missing the apps students actually use. The Sawfish App Store
                provides a clean, modern alternative that feels like a native app store
                while remaining accessible through any modern web browser without
                requiring special permissions or software installation beyond the
                standard PWA installation process.
            </p>
            <p>
                The <strong>Sawfish App Store</strong> is a progressive web application
                designed specifically for school environments. It has been carefully
                curated to include only school-appropriate content while still providing
                engaging entertainment and useful productivity tools. All apps in the
                store have been reviewed to ensure they meet school safety standards
                and do not contain inappropriate content, excessive advertising, or
                data collection practices that would raise privacy concerns.
            </p>
        </section>

        <section class="how-it-works">
            <h2>How to Install</h2>
            <p>This works best when added to your device's Home Screen for a full app experience:</p>
            
            <div class="install-instructions">
                <div class="instruction-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>Tap the Share Button</strong>
                        <p>In Safari or your browser, look for the share icon typically located in the toolbar. This button usually looks like a square with an arrow pointing upward on iOS devices or three dots connected by lines on Android devices.</p>
                    </div>
                </div>
                
                <div class="instruction-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>Select "Add to Home Screen"</strong>
                        <p>Scroll down through the share sheet options until you find "Add to Home Screen" or "Install App". Tap this option to proceed with the installation process.</p>
                    </div>
                </div>
                
                <div class="instruction-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <strong>Confirm the Installation</strong>
                        <p>Review the app name and icon that will appear on your home screen. You can customize these if desired, then tap "Add" or "Install" to confirm and begin the installation process.</p>
                    </div>
                </div>
                
                <div class="instruction-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <strong>Open from Home Screen</strong>
                        <p>Once installed, tap the Sawfish App Store icon from your device's home screen to open the app. The installation screen will disappear and the full application will be available.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="benefits">
            <h2>What Installation Unlocks</h2>
            <p>When installed as a Progressive Web App, you get access to the complete feature set:</p>
            
            <div class="benefit-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12 2 2 7 12 12 22 7 12 2"/>
                            <polyline points="2 17 12 22 22 17"/>
                            <polyline points="2 12 12 17 22 12"/>
                        </svg>
                    </div>
                    <h3>Game Hub</h3>
                    <p>Access a curated collection of school-friendly games including puzzles, platformers, simulations, and creative building experiences.</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                        </svg>
                    </div>
                    <h3>Social Tools</h3>
                    <p>Chat and call your classmates through integrated communication tools designed for quick and easy collaboration.</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                            <line x1="8" y1="21" x2="16" y2="21"/>
                            <line x1="12" y1="17" x2="12" y2="21"/>
                        </svg>
                    </div>
                    <h3>OS Simulations</h3>
                    <p>Explore browser-based operating system environments including NovaOS, WinRipen, PlutoOS, and Ripenos for educational purposes.</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                    </div>
                    <h3>Full-Screen App Feel</h3>
                    <p>Enjoy a faster, more responsive experience with native-like performance, smoother navigation, and distraction-free interface.</p>
                </div>
            </div>
        </section>

        <section class="final-note">
            <div class="note-card">
                <h3>Important Notes</h3>
                <ul>
                    <li>After installation, this setup screen disappears and the full app becomes available</li>
                    <li>Some features require an active internet connection to function properly</li>
                    <li>The app works offline for most content once the service worker is installed</li>
                    <li>Your ratings and reviews are stored securely in the cloud and sync across devices</li>
                </ul>
            </div>
        </section>
    </main>

    <footer class="install-footer">
        <p>Built by the Sawfish Developer Group</p>
        <p class="version-info">Version 1.0.0 · <span id="install-date"></span></p>
    </footer>
</section>

<!-- ==========================================================
     FULL APP SCREEN (Shown ONLY after PWA installation)
=========================================================== -->
<section data-screen="app" class="hidden">

    <!-- ================= HEADER ================= -->
    <header class="app-header">
        <div class="header-content">
            <div class="header-left">
                <h1 class="app-title">Sawfish App Store</h1>
            </div>
            <div class="header-right">
                <!-- PWA-ONLY BANNER -->
                <div id="pwa-banner" class="pwa-banner" aria-hidden="true">
                    <div class="pwa-banner-left">
                        <div class="pwa-badge">PWA</div>
                        <div class="pwa-banner-text">
                            <div class="pwa-banner-title">App Status</div>
                            <div class="pwa-banner-sub" id="update-status">Checking for updates…</div>
                        </div>
                    </div>
                    <button id="update-action" class="pwa-banner-btn" type="button">
                        <span class="btn-text">Up to date</span>
                        <span class="btn-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- ================= SIDEBAR NAVIGATION ================= -->
    <aside class="sidebar-nav" id="sidebar-nav">
        <nav class="sidebar-content">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <svg viewBox="0 0 100 100" class="sawfish-icon">
                        <circle cx="50" cy="50" r="45" fill="#4da3ff" opacity="0.15"/>
                        <path d="M30 65 Q50 20 70 65 Q50 75 30 65" fill="none" stroke="#4da3ff" stroke-width="3"/>
                        <circle cx="35" cy="55" r="4" fill="#4da3ff"/>
                        <circle cx="65" cy="55" r="4" fill="#4da3ff"/>
                    </svg>
                </div>
                <h2>Sawfish Store</h2>
            </div>
            
            <ul class="nav-list">
                <li>
                    <button data-tab="home" class="nav-item active">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9 22 9 12 15 12 15 22"/>
                        </svg>
                        <span>Home</span>
                    </button>
                </li>
                <li>
                    <button data-tab="featured" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                        </svg>
                        <span>Featured</span>
                    </button>
                </li>
                <li>
                    <button data-tab="games" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="6" width="20" height="12" rx="2"/>
                            <path d="M6 12h4"/>
                            <path d="M8 10v4"/>
                            <circle cx="17" cy="10" r="1" fill="currentColor"/>
                            <circle cx="15" cy="14" r="1" fill="currentColor"/>
                        </svg>
                        <span>Games</span>
                    </button>
                </li>
                <li>
                    <button data-tab="social" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        <span>Social</span>
                    </button>
                </li>
                <li>
                    <button data-tab="os" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                            <line x1="8" y1="21" x2="16" y2="21"/>
                            <line x1="12" y1="17" x2="12" y2="21"/>
                        </svg>
                        <span>OS</span>
                    </button>
                </li>
                <li>
                    <button data-tab="changelog" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10 9 9 9 8 9"/>
                        </svg>
                        <span>Changelog</span>
                    </button>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <div class="user-status">
                    <div class="status-dot online"></div>
                    <span>Connected</span>
                </div>
                <button id="developer-login-button" class="developer-login-btn" title="Developer Login">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    <span class="developer-status-text">Developer</span>
                </button>
            </div>
        </nav>
    </aside>

    <!-- ================= MAIN CONTENT AREA ================= -->
    <main class="main-content">
        
        <!-- ================= HOME PAGE ================= -->
        <main data-page="home" class="page visible">
            <section class="home-hero">
                <div class="hero-content">
                    <h2>Welcome to Sawfish App Store</h2>
                    <p>Your curated collection of school-safe games, social tools, and operating system simulations. Install to Home Screen for the best experience.</p>
                    <div class="hero-actions">
                        <button class="hero-btn primary" onclick="scrollToSection('games')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5 3 19 12 5 21 5 3"/>
                            </svg>
                            Explore Games
                        </button>
                        <button class="hero-btn secondary" onclick="scrollToSection('social')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                            </svg>
                            Social Tools
                        </button>
                    </div>
                </div>
            </section>

            <section class="quick-access">
                <h3>Quick Access</h3>
                <div class="card-grid">
                    <article class="app-card" data-app="hack">
                        <div class="card-icon">
                            <img src="icons/hack.png" alt="Hack Stuff Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Hack Stuff</h4>
                            <p class="card-desc">Restricted utilities and experimental tools for advanced users.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="hack"></span>
                                <span class="rating-value" data-avg-rating="hack">—</span>
                            </div>
                        </div>
                    </article>

                    <article class="app-card" data-app="portal">
                        <div class="card-icon">
                            <img src="icons/game-portal.png" alt="Game Portal Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Sawfish Game Portal</h4>
                            <p class="card-desc">Central launcher for all approved Sawfish games in one place.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="portal"></span>
                                <span class="rating-value" data-avg-rating="portal">—</span>
                            </div>
                        </div>
                    </article>

                    <article class="app-card" data-app="chat">
                        <div class="card-icon">
                            <img src="icons/chat.png" alt="Chat App Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Chat App</h4>
                            <p class="card-desc">Real-time messaging for students with rooms and channels.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="chat"></span>
                                <span class="rating-value" data-avg-rating="chat">—</span>
                            </div>
                        </div>
                    </article>

                    <article class="app-card" data-app="call">
                        <div class="card-icon">
                            <img src="icons/call.png" alt="Call App Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Call App</h4>
                            <p class="card-desc">Fast, simple browser-based voice calling interface.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="call"></span>
                                <span class="rating-value" data-avg-rating="call">—</span>
                            </div>
                        </div>
                    </article>
                </div>
            </section>
        </main>

        <!-- ================= FEATURED PAGE ================= -->
        <main data-page="featured" class="page">
            <section class="page-header">
                <h2>Featured Apps</h2>
                <p>Hand-picked apps and games that our community loves the most. These selections represent the best of what the Sawfish App Store has to offer, chosen for their quality, reliability, and educational value.</p>
            </section>

            <section class="featured-hero">
                <div class="featured-card highlight">
                    <div class="featured-badge">My Choice</div>
                    <div class="featured-icon">
                        <img src="icons/minecraft.png" alt="Minecraft Web" loading="lazy">
                    </div>
                    <div class="featured-info">
                        <h3>Minecraft Web (Beta)</h3>
                        <p>The iconic sandbox building game, now in your browser. Build, explore, and create without downloads.</p>
                        <a href="https://zardoy.github.io/minecraft-web-client/" target="_blank" rel="noopener noreferrer" class="featured-btn">
                            Play Now
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="5" y1="12" x2="19" y2="12"/>
                                <polyline points="12 5 19 12 12 19"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </section>

            <section class="card-section">
                <h3>Top Rated Games</h3>
                <div class="card-grid">
                    <article class="app-card" data-app="sandboxels">
                        <div class="card-icon">
                            <img src="icons/sandboxels.png" alt="Sandboxels Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Sandboxels</h4>
                            <p class="card-desc">Falling sand physics simulator with over 500 elements.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="sandboxels"></span>
                                <span class="rating-value" data-avg-rating="sandboxels">—</span>
                            </div>
                        </div>
                    </article>

                    <article class="app-card" data-app="2048">
                        <div class="card-icon">
                            <img src="icons/2048.png" alt="2048 Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>2048</h4>
                            <p class="card-desc">Classic number puzzle game. Combine tiles to reach 2048.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="2048"></span>
                                <span class="rating-value" data-avg-rating="2048">—</span>
                            </div>
                        </div>
                    </article>

                    <article class="app-card" data-app="run3">
                        <div class="card-icon">
                            <img src="icons/run3.png" alt="Run 3 Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Run 3</h4>
                            <p class="card-desc">Endless space runner with gravity-shifting tunnel gameplay.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="run3"></span>
                                <span class="rating-value" data-avg-rating="run3">—</span>
                            </div>
                        </div>
                    </article>

                    <article class="app-card" data-app="blockblast">
                        <div class="card-icon">
                            <img src="icons/blockblast.png" alt="Block Blast Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>Block Blast</h4>
                            <p class="card-desc">Fast-paced block placement puzzle with competitive scoring.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="blockblast"></span>
                                <span class="rating-value" data-avg-rating="blockblast">—</span>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <section class="card-section">
                <h3>Operating Systems</h3>
                <div class="card-grid">
                    <article class="app-card" data-app="novaos">
                        <div class="card-icon">
                            <img src="icons/novaos.png" alt="NovaOS Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>NovaOS</h4>
                            <p class="card-desc">Full browser-based desktop operating system environment.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="novaos"></span>
                                <span class="rating-value" data-avg-rating="novaos">—</span>
                            </div>
                        </div>
                    </article>

                    <article class="app-card" data-app="winripen">
                        <div class="card-icon">
                            <img src="icons/winripen.png" alt="WinRipen Icon" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h4>WinRipen</h4>
                            <p class="card-desc">Windows-inspired web OS with familiar desktop interface.</p>
                            <div class="card-rating">
                                <span class="stars dynamic-stars" data-app-rating="winripen"></span>
                                <span class="rating-value" data-avg-rating="winripen">—</span>
                            </div>
                        </div>
                    </article>
                </div>
            </section>
        </main>

        <!-- ================= GAMES PAGE ================= -->
        <main data-page="games" class="page">
            <section class="page-header">
                <h2>Games</h2>
                <p>Explore our curated collection of school-friendly browser games. From puzzle games to platformers, sandbox simulations to racing games, there's something for everyone. All games have been reviewed to ensure they are appropriate for school environments.</p>
            </section>

            <!-- Featured Games Section -->
            <section class="featured-section">
                <h3 class="section-title">Featured</h3>
                <div class="featured-grid">
                    <div class="featured-card" data-app="minecraft">
                        <img src="icons/minecraft.png" alt="Minecraft Web" loading="lazy">
                        <div class="featured-content">
                            <h4>Minecraft Web</h4>
                            <p>Iconic sandbox building</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="sandboxels">
                        <img src="icons/sandboxels.png" alt="Sandboxels" loading="lazy">
                        <div class="featured-content">
                            <h4>Sandboxels</h4>
                            <p>500+ physics elements</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="retrobowl">
                        <img src="icons/retrobowl.png" alt="Retro Bowl" loading="lazy">
                        <div class="featured-content">
                            <h4>Retro Bowl</h4>
                            <p>Classic football action</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="run3">
                        <img src="icons/run3.png" alt="Run 3" loading="lazy">
                        <div class="featured-content">
                            <h4>Run 3</h4>
                            <p>Space tunnel runner</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="game-categories">
                <div class="category-tabs">
                    <button class="category-tab active" data-category="all">All Games</button>
                    <button class="category-tab" data-category="puzzle">Puzzle</button>
                    <button class="category-tab" data-category="platformer">Platformer</button>
                    <button class="category-tab" data-category="sandbox">Sandbox</button>
                    <button class="category-tab" data-category="arcade">Arcade</button>
                </div>
            </section>

            <div class="card-grid">
                <article class="app-card" data-app="circle">
                    <div class="card-icon">
                        <img src="icons/circle.png" alt="Draw a Circle Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Draw a Circle</h4>
                        <p class="card-desc">Quick reflex challenge - draw the most perfect circle you can.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="circle"></span>
                            <span class="rating-value" data-avg-rating="circle">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="2048">
                    <div class="card-icon">
                        <img src="icons/2048.png" alt="2048 Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>2048</h4>
                        <p class="card-desc">Classic number puzzle. Combine matching numbers to win.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="2048"></span>
                            <span class="rating-value" data-avg-rating="2048">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="minecraft">
                    <div class="card-icon">
                        <img src="icons/minecraft.png" alt="Minecraft Web Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Minecraft Web (Beta)</h4>
                        <p class="card-desc">Browser-based Minecraft experience with multiplayer focus.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="minecraft"></span>
                            <span class="rating-value" data-avg-rating="minecraft">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="blockblast">
                    <div class="card-icon">
                        <img src="icons/blockblast.png" alt="Block Blast Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Block Blast</h4>
                        <p class="card-desc">Fast-paced block placement puzzle game with competitive scoring.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="blockblast"></span>
                            <span class="rating-value" data-avg-rating="blockblast">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="sandboxels">
                    <div class="card-icon">
                        <img src="icons/sandboxels.png" alt="Sandboxels Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Sandboxels</h4>
                        <p class="card-desc">Falling sand physics simulator with over 500 unique elements.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="sandboxels"></span>
                            <span class="rating-value" data-avg-rating="sandboxels">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="run3">
                    <div class="card-icon">
                        <img src="icons/run3.png" alt="Run 3 Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Run 3</h4>
                        <p class="card-desc">Endless space runner through procedurally generated tunnels.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="run3"></span>
                            <span class="rating-value" data-avg-rating="run3">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="portal">
                    <div class="card-icon">
                        <img src="icons/game-portal.png" alt="Game Portal Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Sawfish Game Portal</h4>
                        <p class="card-desc">Central hub for all approved browser games in one convenient location.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="portal"></span>
                            <span class="rating-value" data-avg-rating="portal">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="syrup">
                    <div class="card-icon">
                        <img src="icons/syrup.png" alt="Syrup Games Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Syrup Games</h4>
                        <p class="card-desc">Alternative game launcher with unique browser-based titles.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="syrup"></span>
                            <span class="rating-value" data-avg-rating="syrup">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="bobtherobber">
                    <div class="card-icon">
                        <img src="icons/bobtherobber.png" alt="Bob The Robber Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Bob The Robber</h4>
                        <p class="card-desc">Stealth puzzle game series. Infiltrate locations and steal treasure.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="bobtherobber"></span>
                            <span class="rating-value" data-avg-rating="bobtherobber">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="retrobowl">
                    <div class="card-icon">
                        <img src="icons/retrobowl.png" alt="Retro Bowl Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Retro Bowl</h4>
                        <p class="card-desc">Classic American football management game with retro aesthetics.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="retrobowl"></span>
                            <span class="rating-value" data-avg-rating="retrobowl">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="paperio2">
                    <div class="card-icon">
                        <img src="icons/paperio2.png" alt="Paper Io 2 Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Paper Io 2</h4>
                        <p class="card-desc">Territory conquest game. Capture territory and defeat opponents.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="paperio2"></span>
                            <span class="rating-value" data-avg-rating="paperio2">—</span>
                        </div>
                    </div>
                </article>
            </div>
        </main>

        <!-- ================= SOCIAL PAGE ================= -->
        <main data-page="social" class="page">
            <section class="page-header">
                <h2>Social</h2>
                <p>Stay connected with your classmates using these communication tools. All social tools have been configured to work within school network restrictions while providing effective real-time communication capabilities.</p>
            </section>

            <div class="card-grid">
                <article class="app-card" data-app="chat">
                    <div class="card-icon">
                        <img src="icons/chat.png" alt="Chat App Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Chat App</h4>
                        <p class="card-desc">Real-time browser-based messaging with rooms and channels for students.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="chat"></span>
                            <span class="rating-value" data-avg-rating="chat">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="call">
                    <div class="card-icon">
                        <img src="icons/call.png" alt="Call App Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Call App</h4>
                        <p class="card-desc">Fast, simple browser-based voice calling interface for quick communication.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="call"></span>
                            <span class="rating-value" data-avg-rating="call">—</span>
                        </div>
                    </div>
                </article>
            </div>

            <section class="social-features">
                <h3>Features</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                            </svg>
                        </div>
                        <h4>Instant Messaging</h4>
                        <p>Send and receive messages instantly with low latency communication protocols optimized for school networks.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                            </svg>
                        </div>
                        <h4>Voice Calling</h4>
                        <p>Initiate voice calls directly from your browser with WebRTC technology for crystal-clear audio quality.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <line x1="3" y1="9" x2="21" y2="9"/>
                                <line x1="9" y1="21" x2="9" y2="9"/>
                            </svg>
                        </div>
                        <h4>Rooms & Channels</h4>
                        <p>Organize conversations into topic-based rooms for better communication during group projects.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            </svg>
                        </div>
                        <h4>Safe & Secure</h4>
                        <p>All communications are secured and moderated to maintain a safe environment for all students.</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- ================= OS PAGE ================= -->
        <main data-page="os" class="page">
            <section class="page-header">
                <h2>Operating Systems</h2>
                <p>Explore browser-based operating system environments. These simulations provide educational experiences with desktop operating system concepts, complete with window management, file systems, and applications running entirely in your browser.</p>
            </section>

            <!-- Featured OS Section -->
            <section class="featured-section">
                <h3 class="section-title">Featured</h3>
                <div class="featured-grid">
                    <div class="featured-card" data-app="novaos">
                        <img src="icons/novaos.png" alt="NovaOS" loading="lazy">
                        <div class="featured-content">
                            <h4>NovaOS</h4>
                            <p>Full browser-based desktop</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="winripen">
                        <img src="icons/winripen.png" alt="WinRipen" loading="lazy">
                        <div class="featured-content">
                            <h4>WinRipen</h4>
                            <p>Windows-inspired web OS</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="plutoos">
                        <img src="icons/plutoos.png" alt="PlutoOS" loading="lazy">
                        <div class="featured-content">
                            <h4>PlutoOS</h4>
                            <p>Modern experimental web OS</p>
                        </div>
                    </div>
                    <div class="featured-card" data-app="ripenos">
                        <img src="icons/ripenos.png" alt="Ripenos" loading="lazy">
                        <div class="featured-content">
                            <h4>Ripenos</h4>
                            <p>Lightweight modular framework</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="os-notice">
                <div class="notice-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="16" x2="12" y2="12"/>
                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                    </svg>
                </div>
                <div class="notice-content">
                    <h3>Open in New Tab</h3>
                    <p>For the full interactive experience with all OS features, click the "Open App" button to launch each operating system in a new browser tab. This provides the complete window management and functionality.</p>
                </div>
            </section>

            <div class="card-grid">
                <article class="app-card" data-app="novaos">
                    <div class="card-icon">
                        <img src="icons/novaos.png" alt="NovaOS Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>NovaOS</h4>
                        <p class="card-desc">Full-featured browser-based desktop OS with apps, window management, and customization.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="novaos"></span>
                            <span class="rating-value" data-avg-rating="novaos">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="winripen">
                    <div class="card-icon">
                        <img src="icons/winripen.png" alt="WinRipen Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>WinRipen</h4>
                        <p class="card-desc">Windows-inspired web OS with familiar desktop environment and applications.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="winripen"></span>
                            <span class="rating-value" data-avg-rating="winripen">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="plutoos">
                    <div class="card-icon">
                        <img src="icons/plutoos.png" alt="PlutoOS Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>PlutoOS</h4>
                        <p class="card-desc">Modern, experimental web OS with futuristic UI and smooth animations.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="plutoos"></span>
                            <span class="rating-value" data-avg-rating="plutoos">—</span>
                        </div>
                    </div>
                </article>

                <article class="app-card" data-app="ripenos">
                    <div class="card-icon">
                        <img src="icons/ripenos.png" alt="Ripenos Icon" loading="lazy">
                    </div>
                    <div class="card-content">
                        <h4>Ripenos</h4>
                        <p class="card-desc">Lightweight web OS framework with modular apps and fast performance.</p>
                        <div class="card-rating">
                            <span class="stars dynamic-stars" data-app-rating="ripenos"></span>
                            <span class="rating-value" data-avg-rating="ripenos">—</span>
                        </div>
                    </div>
                </article>
            </div>
        </main>

        <!-- ================= CHANGELOG PAGE ================= -->
        <main data-page="changelog" class="page">
            <section class="page-header">
                <h2>Changelog</h2>
                <p>Track all the updates, improvements, and fixes made to the Sawfish App Store. This section documents the evolution of the application and helps users understand what's new in each version.</p>
            </section>

            <section class="changelog-meta">
                <div class="meta-card">
                    <div class="meta-label">Current Version</div>
                    <div class="meta-value" id="changelog-version">1.1.0</div>
                </div>
                <div class="meta-card">
                    <div class="meta-label">Last Updated</div>
                    <div class="meta-value" id="changelog-date">January 6, 2026</div>
                </div>
                <div class="meta-card">
                    <div class="meta-label">Total Changes</div>
                    <div class="meta-value">59</div>
                </div>
            </section>

            <section class="changelog-timeline">
                <article class="changelog-entry latest">
                    <div class="entry-header">
                        <div class="entry-version">v1.1.0</div>
                        <div class="entry-date">January 6, 2026</div>
                        <div class="entry-badge major">Major Release</div>
                    </div>
                    <div class="entry-content">
                        <h4>New Features</h4>
                        <ul>
                            <li>Implemented Firebase Firestore integration for cloud-synced ratings and reviews across all devices</li>
                            <li>Added real-time review updates that sync instantly when new reviews are submitted</li>
                            <li>Introduced Developer Mode with password protection for official responses</li>
                            <li>Developer responses now feature special styling with developer badges for clear identification</li>
                            <li>Added Featured sections to Games and OS tabs highlighting top content</li>
                            <li>Enhanced UI with new Featured grid layout on Games and OS pages</li>
                            <li>Removed iframe previews from OS tab for cleaner, faster page loading</li>
                            <li>Added developer login button to sidebar for easy access to developer features</li>
                            <li>Improved rating distribution visualization with visual progress bars</li>
                            <li>Added automatic average rating calculations with real-time updates</li>
                        </ul>
                        <h4>Improvements</h4>
                        <ul>
                            <li>Optimized database queries for faster review loading</li>
                            <li>Enhanced offline support with local storage fallback when Firebase is unavailable</li>
                            <li>Improved review submission with instant feedback notifications</li>
                            <li>Streamlined OS page with focus on content rather than embedded previews</li>
                            <li>Enhanced mobile responsive design for featured content grids</li>
                            <li>Improved accessibility with proper ARIA labels on developer mode elements</li>
                            <li>Better error handling for network connectivity issues</li>
                        </ul>
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed issues with duplicate review entries when submitting</li>
                            <li>Resolved rating calculation errors for apps with no reviews</li>
                            <li>Fixed timestamp display formatting issues</li>
                            <li>Resolved memory leak in real-time review subscriptions</li>
                            <li>Fixed CSS styling issues on developer response badges</li>
                            <li>Fixed star rendering bug causing 6 stars to appear instead of 5 on rating displays</li>
                            <li>Fixed star display inconsistency where stars rendered correctly in expanded app view but failed on app cards due to duplicate ID conflicts</li>
                            <li>Fixed app visibility issue preventing newly added apps (#3 and #4 in normal tabs, #8 and #9 in developer tab) from appearing in their designated sections</li>
                            <li>Added detailed descriptions for all apps to improve user understanding of app features and functionality</li>
                        </ul>
                    </div>
                </article>

                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v1.0.0</div>
                        <div class="entry-date">January 6, 2026</div>
                        <div class="entry-badge major">Major Release</div>
                    </div>
                    <div class="entry-content">
                        <h4>New Features</h4>
                        <ul>
                            <li>Complete redesign with Apple App Store-inspired dark mode interface</li>
                            <li>Added sidebar navigation with expandable/collapsible design</li>
                            <li>Implemented Firestore integration for cross-platform ratings and reviews</li>
                            <li>Created detailed expanded descriptions for all 18+ apps</li>
                            <li>Added PWA installation detection and installation screen</li>
                            <li>Implemented real-time rating updates using Firebase Firestore</li>
                            <li>Added comprehensive rating and review submission system</li>
                            <li>Created mobile-responsive 2-card wide layout for app grid</li>
                            <li>Added OS preview functionality with iframe overlays</li>
                            <li>Implemented category filtering for games section</li>
                            <li>Added welcome modal with important app guidelines</li>
                            <li>Created featured apps section with highlighted content</li>
                        </ul>
                        <h4>Improvements</h4>
                        <ul>
                            <li>Optimized performance for smoother animations and transitions</li>
                            <li>Improved accessibility with proper ARIA labels and semantic HTML</li>
                            <li>Enhanced mobile experience with touch-friendly interactions</li>
                            <li>Better offline support with comprehensive service worker caching</li>
                            <li>Improved visual hierarchy and information architecture</li>
                            <li>Added loading states and skeleton screens for better UX</li>
                            <li>Enhanced icon system with consistent SVG styling</li>
                        </ul>
                        <h4>Bug Fixes</h4>
                        <ul>
                            <li>Fixed issues with expanded view rendering in PWA mode</li>
                            <li>Resolved duplicate App Store display problems in web preview</li>
                            <li>Fixed rating display inconsistencies across different pages</li>
                            <li>Resolved navigation issues when switching between tabs</li>
                            <li>Fixed iframe loading issues in OS preview section</li>
                            <li>Resolved mobile layout issues on various screen sizes</li>
                        </ul>
                    </div>
                </article>

                <article class="changelog-entry">
                    <div class="entry-header">
                        <div class="entry-version">v0.9.0</div>
                        <div class="entry-date">December 16, 2025</div>
                        <div class="entry-badge">Beta</div>
                    </div>
                    <div class="entry-content">
                        <h4>Initial Release</h4>
                        <ul>
                            <li>Launched Sawfish App Store with basic PWA functionality</li>
                            <li>Added installation detection and screen</li>
                            <li>Implemented tab-based navigation (Home, Games, Social, OS)</li>
                            <li>Added 18+ apps with basic card displays</li>
                            <li>Implemented service worker for offline caching</li>
                            <li>Added manifest.json for PWA installability</li>
                            <li>Created initial dark theme styling</li>
                        </ul>
                    </div>
                </article>
            </section>
        </main>
    </main>

    <!-- ================= EXPANDED APP DETAILS OVERLAY ================= -->
    <div id="expanded-overlay" class="expanded-overlay hidden" aria-hidden="true">
        <div class="expanded-backdrop"></div>
        <div class="expanded-container">
            <div class="expanded-header-bar">
                <button class="expanded-close-btn" aria-label="Close expanded view">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="expanded-content-wrapper" id="expanded-content-wrapper">
                <!-- Expanded content will be injected here -->
            </div>
        </div>
    </div>

    <!-- ================= WELCOME MODAL (PWA Only) ================= -->
    <div id="welcome-modal" class="modal-overlay hidden" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="welcome-title">Read This First</h2>
                <p class="modal-subtitle">Important guidelines for the best experience</p>
            </div>
            
            <div class="modal-body">
                <div class="modal-scroll-content" id="modal-scroll-content">
                    <div class="guideline-section">
                        <h3>Minecraft Web Important Rule</h3>
                        <p>
                            In Minecraft Web, <strong>do not use single player</strong>. You 
                            <strong>must use a multiplayer server</strong> to be able to craft.
                            The single player mode in this web version does not include
                            crafting functionality. Prefer the <strong>official first server</strong>
                            when available for the best multiplayer experience with other players.
                            The developers are working on enabling single player crafting, but
                            for now, multiplayer is required for full functionality.
                        </p>
                    </div>
                    
                    <div class="guideline-section">
                        <h3>Add Apps for Best Experience</h3>
                        <p>
                            For the smoothest experience, add important apps to your Home Screen
                            when possible. Some apps require installation to work well including
                            fullscreen mode, faster load times, and better reliability on school
                            networks. The installation process is quick and easy, requiring only
                            a few taps in your browser's share menu.
                        </p>
                    </div>
                    
                    <div class="guideline-section">
                        <h3>Social Tools Usage</h3>
                        <p>
                            The Chat App and Call App are designed for legitimate educational
                            and social purposes. Please use these tools responsibly and respect
                            other users. Harassment, bullying, or inappropriate content may
                            result in temporary or permanent loss of access to these services.
                            All messages are logged for safety purposes.
                        </p>
                    </div>
                    
                    <div class="guideline-section">
                        <h3>Changelog & Updates</h3>
                        <p>
                            This app improves over time. Check the <strong>Changelog</strong>
                            tab to see what's new in each version. If you ever see old content
                            or experience issues, use the <strong>Update</strong> button in
                            the top banner to refresh the application cache and get the latest
                            version. Updates are typically deployed weekly with new features
                            and bug fixes.
                        </p>
                    </div>
                    
                    <div class="guideline-section">
                        <h3>Rating and Reviews</h3>
                        <p>
                            Your feedback helps improve the app store experience for everyone.
                            Rate your favorite apps and leave reviews to help other students
                            discover great content. All ratings and reviews are stored in the
                            cloud and sync across all devices. Please leave honest and helpful
                            reviews that benefit the community. Developers can respond to reviews
                            when logged in with developer mode.
                        </p>
                    </div>
                    
                    <div class="scroll-indicator">
                        <span>Scroll to continue</span>
                        <div class="scroll-arrow"></div>
                    </div>
                </div>
                
                <div class="modal-returning-content hidden" id="modal-returning-content">
                    <p>Welcome back! Tap Continue to enter the app.</p>
                </div>
            </div>
            
            <div class="modal-footer">
                <label class="ack-checkbox-row hidden" id="ack-checkbox-row">
                    <input type="checkbox" id="welcome-ack">
                    <span>I understand and agree to follow these guidelines</span>
                </label>
                <button id="welcome-continue" class="modal-continue-btn" type="button" disabled>
                    Continue
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="5" y1="12" x2="19" y2="12"/>
                        <polyline points="12 5 19 12 12 19"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- ================= DEVELOPER LOGIN MODAL ================= -->
    <div id="developer-login-modal" class="modal-overlay hidden" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-container developer-modal">
            <div class="modal-header">
                <h2>Developer Login</h2>
                <p class="modal-subtitle">Enter your developer credentials to access developer tools</p>
            </div>
            
            <div class="modal-body">
                <div class="developer-login-form">
                    <div class="form-group">
                        <label for="developer-password">Password</label>
                        <input type="password" id="developer-password" class="password-input-field" placeholder="Enter developer password" autocomplete="off">
                    </div>
                    <p class="password-hint">Password characters are masked for security</p>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="developer-cancel" class="modal-cancel-btn" type="button">Cancel</button>
                <button id="developer-submit" class="modal-continue-btn" type="button">Login</button>
            </div>
        </div>
    </div>

    <!-- ================= DEVELOPER DASHBOARD ================= -->
    <div id="developer-dashboard" class="developer-dashboard hidden" aria-hidden="true">
        <div class="developer-overlay"></div>
        <div class="developer-panel">
            <div class="developer-panel-header">
                <h2>Developer Dashboard</h2>
                <button id="developer-close-dashboard" class="expanded-close-btn" aria-label="Close developer dashboard">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            
            <nav class="developer-nav">
                <button class="developer-nav-btn active" data-developer-tab="analytics">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="20" x2="18" y2="10"/>
                        <line x1="12" y1="20" x2="12" y2="4"/>
                        <line x1="6" y1="20" x2="6" y2="14"/>
                    </svg>
                    Analytics
                </button>
                <button class="developer-nav-btn" data-developer-tab="appmanager">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <line x1="3" y1="9" x2="21" y2="9"/>
                        <line x1="9" y1="21" x2="9" y2="9"/>
                    </svg>
                    App Manager
                </button>
                <button class="developer-nav-btn" data-developer-tab="announcements">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 17H2a3 3 0 0 0 3-3V9a7 7 0 0 1 14 0v5a3 3 0 0 0 3 3zm-8.27 4a2 2 0 0 1-3.46 0"/>
                    </svg>
                    Announcements
                </button>
                <button class="developer-nav-btn" data-developer-tab="moderation">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    Moderation
                </button>
            </nav>
            
            <div class="developer-content">
                <!-- Analytics Tab -->
                <div class="developer-tab-content active" data-developer-content="analytics">
                    <h3>Store Analytics</h3>
                    <div class="analytics-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="stat-total-reviews">0</div>
                            <div class="stat-label">Total Reviews</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="stat-total-apps">18</div>
                            <div class="stat-label">Total Apps</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="stat-avg-rating">0.0</div>
                            <div class="stat-label">Avg Rating</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="stat-developer-responses">0</div>
                            <div class="stat-label">Dev Responses</div>
                        </div>
                    </div>
                    
                    <h4>Top Rated Apps</h4>
                    <div class="top-rated-list" id="top-rated-apps">
                        <p class="muted">Loading analytics...</p>
                    </div>
                </div>
                
                <!-- App Manager Tab -->
                <div class="developer-tab-content" data-developer-content="appmanager">
                    <h3>App Management</h3>
                    <div class="app-manager-controls">
                        <button id="add-new-app-btn" class="action-btn primary">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                            Add New App
                        </button>
                    </div>
                    <div class="app-list" id="app-manager-list">
                        <p class="muted">Loading apps...</p>
                    </div>
                </div>
                
                <!-- Announcements Tab -->
                <div class="developer-tab-content" data-developer-content="announcements">
                    <h3>System Announcements</h3>
                    <div class="announcement-form">
                        <div class="form-group">
                            <label for="announcement-title">Title</label>
                            <input type="text" id="announcement-title" placeholder="Announcement title">
                        </div>
                        <div class="form-group">
                            <label for="announcement-text">Message</label>
                            <textarea id="announcement-text" placeholder="Enter your announcement..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="announcement-type">Type</label>
                            <select id="announcement-type">
                                <option value="info">Information</option>
                                <option value="warning">Warning</option>
                                <option value="success">Success</option>
                            </select>
                        </div>
                        <button id="publish-announcement" class="action-btn primary">Publish Announcement</button>
                    </div>
                    
                    <h4>Recent Announcements</h4>
                    <div class="announcement-list" id="announcement-list">
                        <p class="muted">No announcements yet</p>
                    </div>
                </div>
                
                <!-- Moderation Tab -->
                <div class="developer-tab-content" data-developer-content="moderation">
                    <h3>Review Moderation</h3>
                    <div class="moderation-controls">
                        <div class="search-box">
                            <input type="text" id="moderation-search" placeholder="Search reviews...">
                        </div>
                        <div class="filter-controls">
                            <select id="moderation-filter">
                                <option value="all">All Reviews</option>
                                <option value="flagged">Flagged</option>
                                <option value="low-rating">Low Rating (1-2)</option>
                            </select>
                        </div>
                    </div>
                    <div class="moderation-list" id="moderation-list">
                        <p class="muted">Loading reviews for moderation...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================= ANNOUNCEMENT BANNER ================= -->
    <div id="announcement-banner" class="announcement-banner hidden" aria-hidden="true">
        <div class="announcement-banner-content">
            <span class="announcement-icon"></span>
            <span class="announcement-text"></span>
        </div>
        <button id="announcement-close" class="announcement-close" aria-label="Dismiss announcement">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        </button>
    </div>

    <!-- ================= FIRESTORE RATINGS DISPLAY ================= -->
    <div id="ratings-display" class="ratings-display hidden">
        <!-- Ratings will be loaded dynamically for each app -->
    </div>

</section>

<!-- ================= FIREBASE SDK ================= -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<!-- ================= APPLICATION SCRIPTS ================= -->
<script>
    // Version and date info
    document.getElementById('install-date')?.textContent = new Date().toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
    document.getElementById('changelog-date').textContent = new Date().toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
</script>

<!-- ================= SERVICE WORKER REGISTRATION ================= -->
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('./service-worker.js')
                .then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                })
                .catch(function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
        });
    }
</script>

<script src="app.js?v=2"></script>

</body>
</html>
